import{I as jt,J as Be,K as ms,L as ao,M as Fn,N as jn,O as oo,P as Je,Q as Ut,R as io,S as ro,U as lo,V as ft,W as vs,X as Ot,Y as Un,Z as Bn,$ as nt,a0 as Rt,a1 as co,a2 as uo,a3 as zn,a4 as ho,a5 as fo,a6 as po,a7 as Le,a8 as J,a9 as Pe,aa as se,ab as _e,c as L,h as D,ac as Y,d,n as H,u as f,ad as oe,ae as De,t as te,af as be,ag as vt,ah as et,ai as mo,aj as Lt,o as pt,ak as vo,al as go,am as Kn,an as ee,ao as gt,ap as bo,aq as _o,ar as Hn,as as yo,at as Gn,au as mt,av as Zn,aw as os,y as Se,k as Q,z as wo,E as Te,ax as tt,ay as Bt,az as at,r as N,w as Ce,aA as is,a as zt,aB as rs,aC as Ue,aD as Eo,aE as So,aF as To,i as x,H as Co,aG as Po,aH as Ie,aI as ko,aJ as Yn,aK as Wn,aL as Vn,aM as Xn,aN as Bs,aO as Do,aP as $o,j as qn,aQ as Ao,aR as Qn,aS as Jn,aT as ge,aU as xo,aV as Kt,F as Ye,x as We,m as ea,f as qe,aW as Lo,aX as Mo,aY as Oo,aZ as Ro,a_ as zs,a$ as Io,b0 as No,b1 as Fo,b2 as jo,b3 as Ks,b4 as Hs,_ as ze,D as Mt,b5 as Pt,s as we,b as Ve,b6 as Uo,b7 as Bo,b8 as zo,b9 as Ko,ba as Ho,bb as Go,g as Zo,T as Yo,bc as Wo,e as Vo}from"./index-BirWHe53.js";import{C as ta,m as Xo,n as qo,U as Qo,o as Gs,p as sa,V as ue,E as Jo,q as Qe,T as Xe,Q as Zs,r as Ys,s as ke,R as ei,t as ti,u as ls,v as Ws,w as ct,L as kt,x as Vs,i as Xt,g as Dt,h as qt,j as Xs,G as si,y as qs,S as ni,e as Qs,k as ai,z as oi,c as ii,D as ri,P as li,W as ci,H as Qt,I as Js,J as en}from"./three.module-CUIihH7M.js";import{S as tn}from"./config-DBxA65oN.js";var cs=jt(Be,"WeakMap"),sn=Object.create,ui=function(){function t(){}return function(e){if(!ms(e))return{};if(sn)return sn(e);t.prototype=e;var s=new t;return t.prototype=void 0,s}}();function di(t,e){var s=-1,n=t.length;for(e||(e=Array(n));++s<n;)e[s]=t[s];return e}function hi(t,e){for(var s=-1,n=t==null?0:t.length;++s<n&&e(t[s],s,t)!==!1;);return t}function bt(t,e,s,n){var a=!s;s||(s={});for(var o=-1,l=e.length;++o<l;){var h=e[o],_=void 0;_===void 0&&(_=t[h]),a?ao(s,h,_):Fn(s,h,_)}return s}function na(t){return t!=null&&jn(t.length)&&!oo(t)}var fi=Object.prototype;function gs(t){var e=t&&t.constructor,s=typeof e=="function"&&e.prototype||fi;return t===s}function pi(t,e){for(var s=-1,n=Array(t);++s<t;)n[s]=e(s);return n}function mi(){return!1}var aa=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nn=aa&&typeof module=="object"&&module&&!module.nodeType&&module,vi=nn&&nn.exports===aa,an=vi?Be.Buffer:void 0,gi=an?an.isBuffer:void 0,It=gi||mi,bi="[object Arguments]",_i="[object Array]",yi="[object Boolean]",wi="[object Date]",Ei="[object Error]",Si="[object Function]",Ti="[object Map]",Ci="[object Number]",Pi="[object Object]",ki="[object RegExp]",Di="[object Set]",$i="[object String]",Ai="[object WeakMap]",xi="[object ArrayBuffer]",Li="[object DataView]",Mi="[object Float32Array]",Oi="[object Float64Array]",Ri="[object Int8Array]",Ii="[object Int16Array]",Ni="[object Int32Array]",Fi="[object Uint8Array]",ji="[object Uint8ClampedArray]",Ui="[object Uint16Array]",Bi="[object Uint32Array]",ce={};ce[Mi]=ce[Oi]=ce[Ri]=ce[Ii]=ce[Ni]=ce[Fi]=ce[ji]=ce[Ui]=ce[Bi]=!0;ce[bi]=ce[_i]=ce[xi]=ce[yi]=ce[Li]=ce[wi]=ce[Ei]=ce[Si]=ce[Ti]=ce[Ci]=ce[Pi]=ce[ki]=ce[Di]=ce[$i]=ce[Ai]=!1;function zi(t){return Je(t)&&jn(t.length)&&!!ce[Ut(t)]}function bs(t){return function(e){return t(e)}}var oa=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dt=oa&&typeof module=="object"&&module&&!module.nodeType&&module,Ki=dt&&dt.exports===oa,Jt=Ki&&io.process,st=function(){try{var t=dt&&dt.require&&dt.require("util").types;return t||Jt&&Jt.binding&&Jt.binding("util")}catch{}}(),on=st&&st.isTypedArray,ia=on?bs(on):zi,Hi=Object.prototype,Gi=Hi.hasOwnProperty;function ra(t,e){var s=ft(t),n=!s&&ro(t),a=!s&&!n&&It(t),o=!s&&!n&&!a&&ia(t),l=s||n||a||o,h=l?pi(t.length,String):[],_=h.length;for(var E in t)(e||Gi.call(t,E))&&!(l&&(E=="length"||a&&(E=="offset"||E=="parent")||o&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||lo(E,_)))&&h.push(E);return h}function la(t,e){return function(s){return t(e(s))}}var Zi=la(Object.keys,Object),Yi=Object.prototype,Wi=Yi.hasOwnProperty;function Vi(t){if(!gs(t))return Zi(t);var e=[];for(var s in Object(t))Wi.call(t,s)&&s!="constructor"&&e.push(s);return e}function _s(t){return na(t)?ra(t):Vi(t)}function Xi(t){var e=[];if(t!=null)for(var s in Object(t))e.push(s);return e}var qi=Object.prototype,Qi=qi.hasOwnProperty;function Ji(t){if(!ms(t))return Xi(t);var e=gs(t),s=[];for(var n in t)n=="constructor"&&(e||!Qi.call(t,n))||s.push(n);return s}function ys(t){return na(t)?ra(t,!0):Ji(t)}var ws=la(Object.getPrototypeOf,Object),er="[object Object]",tr=Function.prototype,sr=Object.prototype,ca=tr.toString,nr=sr.hasOwnProperty,ar=ca.call(Object);function or(t){if(!Je(t)||Ut(t)!=er)return!1;var e=ws(t);if(e===null)return!0;var s=nr.call(e,"constructor")&&e.constructor;return typeof s=="function"&&s instanceof s&&ca.call(s)==ar}function ir(t,e,s){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),s=s>a?a:s,s<0&&(s+=a),a=e>s?0:s-e>>>0,e>>>=0;for(var o=Array(a);++n<a;)o[n]=t[n+e];return o}function rr(){this.__data__=new vs,this.size=0}function lr(t){var e=this.__data__,s=e.delete(t);return this.size=e.size,s}function cr(t){return this.__data__.get(t)}function ur(t){return this.__data__.has(t)}var dr=200;function hr(t,e){var s=this.__data__;if(s instanceof vs){var n=s.__data__;if(!Ot||n.length<dr-1)return n.push([t,e]),this.size=++s.size,this;s=this.__data__=new Un(n)}return s.set(t,e),this.size=s.size,this}function Oe(t){var e=this.__data__=new vs(t);this.size=e.size}Oe.prototype.clear=rr;Oe.prototype.delete=lr;Oe.prototype.get=cr;Oe.prototype.has=ur;Oe.prototype.set=hr;function fr(t,e){return t&&bt(e,_s(e),t)}function pr(t,e){return t&&bt(e,ys(e),t)}var ua=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rn=ua&&typeof module=="object"&&module&&!module.nodeType&&module,mr=rn&&rn.exports===ua,ln=mr?Be.Buffer:void 0,cn=ln?ln.allocUnsafe:void 0;function vr(t,e){if(e)return t.slice();var s=t.length,n=cn?cn(s):new t.constructor(s);return t.copy(n),n}function gr(t,e){for(var s=-1,n=t==null?0:t.length,a=0,o=[];++s<n;){var l=t[s];e(l,s,t)&&(o[a++]=l)}return o}function da(){return[]}var br=Object.prototype,_r=br.propertyIsEnumerable,un=Object.getOwnPropertySymbols,Es=un?function(t){return t==null?[]:(t=Object(t),gr(un(t),function(e){return _r.call(t,e)}))}:da;function yr(t,e){return bt(t,Es(t),e)}var wr=Object.getOwnPropertySymbols,ha=wr?function(t){for(var e=[];t;)Bn(e,Es(t)),t=ws(t);return e}:da;function Er(t,e){return bt(t,ha(t),e)}function fa(t,e,s){var n=e(t);return ft(t)?n:Bn(n,s(t))}function us(t){return fa(t,_s,Es)}function pa(t){return fa(t,ys,ha)}var ds=jt(Be,"DataView"),hs=jt(Be,"Promise"),fs=jt(Be,"Set"),dn="[object Map]",Sr="[object Object]",hn="[object Promise]",fn="[object Set]",pn="[object WeakMap]",mn="[object DataView]",Tr=nt(ds),Cr=nt(Ot),Pr=nt(hs),kr=nt(fs),Dr=nt(cs),xe=Ut;(ds&&xe(new ds(new ArrayBuffer(1)))!=mn||Ot&&xe(new Ot)!=dn||hs&&xe(hs.resolve())!=hn||fs&&xe(new fs)!=fn||cs&&xe(new cs)!=pn)&&(xe=function(t){var e=Ut(t),s=e==Sr?t.constructor:void 0,n=s?nt(s):"";if(n)switch(n){case Tr:return mn;case Cr:return dn;case Pr:return hn;case kr:return fn;case Dr:return pn}return e});var $r=Object.prototype,Ar=$r.hasOwnProperty;function xr(t){var e=t.length,s=new t.constructor(e);return e&&typeof t[0]=="string"&&Ar.call(t,"index")&&(s.index=t.index,s.input=t.input),s}var Nt=Be.Uint8Array;function Ss(t){var e=new t.constructor(t.byteLength);return new Nt(e).set(new Nt(t)),e}function Lr(t,e){var s=e?Ss(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}var Mr=/\w*$/;function Or(t){var e=new t.constructor(t.source,Mr.exec(t));return e.lastIndex=t.lastIndex,e}var vn=Rt?Rt.prototype:void 0,gn=vn?vn.valueOf:void 0;function Rr(t){return gn?Object(gn.call(t)):{}}function Ir(t,e){var s=e?Ss(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}var Nr="[object Boolean]",Fr="[object Date]",jr="[object Map]",Ur="[object Number]",Br="[object RegExp]",zr="[object Set]",Kr="[object String]",Hr="[object Symbol]",Gr="[object ArrayBuffer]",Zr="[object DataView]",Yr="[object Float32Array]",Wr="[object Float64Array]",Vr="[object Int8Array]",Xr="[object Int16Array]",qr="[object Int32Array]",Qr="[object Uint8Array]",Jr="[object Uint8ClampedArray]",el="[object Uint16Array]",tl="[object Uint32Array]";function sl(t,e,s){var n=t.constructor;switch(e){case Gr:return Ss(t);case Nr:case Fr:return new n(+t);case Zr:return Lr(t,s);case Yr:case Wr:case Vr:case Xr:case qr:case Qr:case Jr:case el:case tl:return Ir(t,s);case jr:return new n;case Ur:case Kr:return new n(t);case Br:return Or(t);case zr:return new n;case Hr:return Rr(t)}}function nl(t){return typeof t.constructor=="function"&&!gs(t)?ui(ws(t)):{}}var al="[object Map]";function ol(t){return Je(t)&&xe(t)==al}var bn=st&&st.isMap,il=bn?bs(bn):ol,rl="[object Set]";function ll(t){return Je(t)&&xe(t)==rl}var _n=st&&st.isSet,cl=_n?bs(_n):ll,ul=1,dl=2,hl=4,ma="[object Arguments]",fl="[object Array]",pl="[object Boolean]",ml="[object Date]",vl="[object Error]",va="[object Function]",gl="[object GeneratorFunction]",bl="[object Map]",_l="[object Number]",ga="[object Object]",yl="[object RegExp]",wl="[object Set]",El="[object String]",Sl="[object Symbol]",Tl="[object WeakMap]",Cl="[object ArrayBuffer]",Pl="[object DataView]",kl="[object Float32Array]",Dl="[object Float64Array]",$l="[object Int8Array]",Al="[object Int16Array]",xl="[object Int32Array]",Ll="[object Uint8Array]",Ml="[object Uint8ClampedArray]",Ol="[object Uint16Array]",Rl="[object Uint32Array]",ie={};ie[ma]=ie[fl]=ie[Cl]=ie[Pl]=ie[pl]=ie[ml]=ie[kl]=ie[Dl]=ie[$l]=ie[Al]=ie[xl]=ie[bl]=ie[_l]=ie[ga]=ie[yl]=ie[wl]=ie[El]=ie[Sl]=ie[Ll]=ie[Ml]=ie[Ol]=ie[Rl]=!0;ie[vl]=ie[va]=ie[Tl]=!1;function ht(t,e,s,n,a,o){var l,h=e&ul,_=e&dl,E=e&hl;if(s&&(l=a?s(t,n,a,o):s(t)),l!==void 0)return l;if(!ms(t))return t;var $=ft(t);if($){if(l=xr(t),!h)return di(t,l)}else{var S=xe(t),T=S==va||S==gl;if(It(t))return vr(t,h);if(S==ga||S==ma||T&&!a){if(l=_||T?{}:nl(t),!h)return _?Er(t,pr(l,t)):yr(t,fr(l,t))}else{if(!ie[S])return a?t:{};l=sl(t,S,h)}}o||(o=new Oe);var m=o.get(t);if(m)return m;o.set(t,l),cl(t)?t.forEach(function(y){l.add(ht(y,e,s,y,t,o))}):il(t)&&t.forEach(function(y,v){l.set(v,ht(y,e,s,v,t,o))});var w=E?_?pa:us:_?ys:_s,c=$?void 0:w(t);return hi(c||t,function(y,v){c&&(v=y,y=t[v]),Fn(l,v,ht(y,e,s,v,t,o))}),l}var Il=1,Nl=4;function yn(t){return ht(t,Il|Nl)}var Fl="__lodash_hash_undefined__";function jl(t){return this.__data__.set(t,Fl),this}function Ul(t){return this.__data__.has(t)}function Ft(t){var e=-1,s=t==null?0:t.length;for(this.__data__=new Un;++e<s;)this.add(t[e])}Ft.prototype.add=Ft.prototype.push=jl;Ft.prototype.has=Ul;function Bl(t,e){for(var s=-1,n=t==null?0:t.length;++s<n;)if(e(t[s],s,t))return!0;return!1}function zl(t,e){return t.has(e)}var Kl=1,Hl=2;function ba(t,e,s,n,a,o){var l=s&Kl,h=t.length,_=e.length;if(h!=_&&!(l&&_>h))return!1;var E=o.get(t),$=o.get(e);if(E&&$)return E==e&&$==t;var S=-1,T=!0,m=s&Hl?new Ft:void 0;for(o.set(t,e),o.set(e,t);++S<h;){var w=t[S],c=e[S];if(n)var y=l?n(c,w,S,e,t,o):n(w,c,S,t,e,o);if(y!==void 0){if(y)continue;T=!1;break}if(m){if(!Bl(e,function(v,g){if(!zl(m,g)&&(w===v||a(w,v,s,n,o)))return m.push(g)})){T=!1;break}}else if(!(w===c||a(w,c,s,n,o))){T=!1;break}}return o.delete(t),o.delete(e),T}function Gl(t){var e=-1,s=Array(t.size);return t.forEach(function(n,a){s[++e]=[a,n]}),s}function Zl(t){var e=-1,s=Array(t.size);return t.forEach(function(n){s[++e]=n}),s}var Yl=1,Wl=2,Vl="[object Boolean]",Xl="[object Date]",ql="[object Error]",Ql="[object Map]",Jl="[object Number]",ec="[object RegExp]",tc="[object Set]",sc="[object String]",nc="[object Symbol]",ac="[object ArrayBuffer]",oc="[object DataView]",wn=Rt?Rt.prototype:void 0,es=wn?wn.valueOf:void 0;function ic(t,e,s,n,a,o,l){switch(s){case oc:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ac:return!(t.byteLength!=e.byteLength||!o(new Nt(t),new Nt(e)));case Vl:case Xl:case Jl:return co(+t,+e);case ql:return t.name==e.name&&t.message==e.message;case ec:case sc:return t==e+"";case Ql:var h=Gl;case tc:var _=n&Yl;if(h||(h=Zl),t.size!=e.size&&!_)return!1;var E=l.get(t);if(E)return E==e;n|=Wl,l.set(t,e);var $=ba(h(t),h(e),n,a,o,l);return l.delete(t),$;case nc:if(es)return es.call(t)==es.call(e)}return!1}var rc=1,lc=Object.prototype,cc=lc.hasOwnProperty;function uc(t,e,s,n,a,o){var l=s&rc,h=us(t),_=h.length,E=us(e),$=E.length;if(_!=$&&!l)return!1;for(var S=_;S--;){var T=h[S];if(!(l?T in e:cc.call(e,T)))return!1}var m=o.get(t),w=o.get(e);if(m&&w)return m==e&&w==t;var c=!0;o.set(t,e),o.set(e,t);for(var y=l;++S<_;){T=h[S];var v=t[T],g=e[T];if(n)var u=l?n(g,v,T,e,t,o):n(v,g,T,t,e,o);if(!(u===void 0?v===g||a(v,g,s,n,o):u)){c=!1;break}y||(y=T=="constructor")}if(c&&!y){var P=t.constructor,z=e.constructor;P!=z&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof z=="function"&&z instanceof z)&&(c=!1)}return o.delete(t),o.delete(e),c}var dc=1,En="[object Arguments]",Sn="[object Array]",$t="[object Object]",hc=Object.prototype,Tn=hc.hasOwnProperty;function fc(t,e,s,n,a,o){var l=ft(t),h=ft(e),_=l?Sn:xe(t),E=h?Sn:xe(e);_=_==En?$t:_,E=E==En?$t:E;var $=_==$t,S=E==$t,T=_==E;if(T&&It(t)){if(!It(e))return!1;l=!0,$=!1}if(T&&!$)return o||(o=new Oe),l||ia(t)?ba(t,e,s,n,a,o):ic(t,e,_,s,n,a,o);if(!(s&dc)){var m=$&&Tn.call(t,"__wrapped__"),w=S&&Tn.call(e,"__wrapped__");if(m||w){var c=m?t.value():t,y=w?e.value():e;return o||(o=new Oe),a(c,y,s,n,o)}}return T?(o||(o=new Oe),uc(t,e,s,n,a,o)):!1}function _a(t,e,s,n,a){return t===e?!0:t==null||e==null||!Je(t)&&!Je(e)?t!==t&&e!==e:fc(t,e,s,n,_a,a)}function pc(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function mc(t,e){return e.length<2?t:uo(t,ir(e,0,-1))}function vc(t,e){return _a(t,e)}function gc(t,e){return e=zn(e,t),t=mc(t,e),t==null||delete t[ho(pc(e))]}function bc(t){return or(t)?void 0:t}var _c=1,yc=2,wc=4,Ec=fo(function(t,e){var s={};if(t==null)return s;var n=!1;e=po(e,function(o){return o=zn(o,t),n||(n=o.length>1),o}),bt(t,pa(t),s),n&&(s=ht(s,_c|yc|wc,bc));for(var a=e.length;a--;)gc(s,e[a]);return s});const Sc=Le({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:J([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),Tc=se({name:"ElCard"}),Cc=se({...Tc,props:Sc,setup(t){const e=_e("card");return(s,n)=>(D(),L("div",{class:H([f(e).b(),f(e).is(`${s.shadow}-shadow`)])},[s.$slots.header||s.header?(D(),L("div",{key:0,class:H([f(e).e("header"),s.headerClass])},[oe(s.$slots,"header",{},()=>[De(te(s.header),1)])],2)):Y("v-if",!0),d("div",{class:H([f(e).e("body"),s.bodyClass]),style:be(s.bodyStyle)},[oe(s.$slots,"default")],6),s.$slots.footer||s.footer?(D(),L("div",{key:1,class:H([f(e).e("footer"),s.footerClass])},[oe(s.$slots,"footer",{},()=>[De(te(s.footer),1)])],2)):Y("v-if",!0)],2))}});var Pc=Pe(Cc,[["__file","card.vue"]]);const ya=vt(Pc),kc=(t,e,s)=>vo(t.subTree).filter(o=>{var l;return go(o)&&((l=o.type)==null?void 0:l.name)===e&&!!o.component}).map(o=>o.component.uid).map(o=>s[o]).filter(o=>!!o),Dc=(t,e)=>{const s=et({}),n=et([]),a=new WeakMap,o=$=>{s.value[$.uid]=$,Lt(s),pt(()=>{const S=$.getVnode().el,T=S.parentNode;if(!a.has(T)){a.set(T,[]);const m=T.insertBefore.bind(T);T.insertBefore=(w,c)=>(a.get(T).some(v=>w===v||c===v)&&Lt(s),m(w,c))}a.get(T).push(S)})},l=$=>{delete s.value[$.uid],Lt(s);const S=$.getVnode().el,T=S.parentNode,m=a.get(T),w=m.indexOf(S);m.splice(w,1)},h=()=>{n.value=kc(t,e,s.value)},_=$=>$.render(),E=se({setup($,{slots:S}){return()=>(h(),S.default?mo(_,{render:S.default}):null)}});return{children:n,addChild:o,removeChild:l,ChildrenSorter:E}},$c=se({name:"ElContainer"}),Ac=se({...$c,props:{direction:{type:String}},setup(t){const e=t,s=Kn(),n=_e("container"),a=ee(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:s&&s.default?s.default().some(l=>{const h=l.type.name;return h==="ElHeader"||h==="ElFooter"}):!1);return(o,l)=>(D(),L("section",{class:H([f(n).b(),f(n).is("vertical",f(a))])},[oe(o.$slots,"default")],2))}});var xc=Pe(Ac,[["__file","container.vue"]]);const Lc=se({name:"ElAside"}),Mc=se({...Lc,props:{width:{type:String,default:null}},setup(t){const e=t,s=_e("aside"),n=ee(()=>e.width?s.cssVarBlock({width:e.width}):{});return(a,o)=>(D(),L("aside",{class:H(f(s).b()),style:be(f(n))},[oe(a.$slots,"default")],6))}});var wa=Pe(Mc,[["__file","aside.vue"]]);const Oc=se({name:"ElFooter"}),Rc=se({...Oc,props:{height:{type:String,default:null}},setup(t){const e=t,s=_e("footer"),n=ee(()=>e.height?s.cssVarBlock({height:e.height}):{});return(a,o)=>(D(),L("footer",{class:H(f(s).b()),style:be(f(n))},[oe(a.$slots,"default")],6))}});var Ea=Pe(Rc,[["__file","footer.vue"]]);const Ic=se({name:"ElHeader"}),Nc=se({...Ic,props:{height:{type:String,default:null}},setup(t){const e=t,s=_e("header"),n=ee(()=>e.height?s.cssVarBlock({height:e.height}):{});return(a,o)=>(D(),L("header",{class:H(f(s).b()),style:be(f(n))},[oe(a.$slots,"default")],6))}});var Sa=Pe(Nc,[["__file","header.vue"]]);const Fc=se({name:"ElMain"}),jc=se({...Fc,setup(t){const e=_e("main");return(s,n)=>(D(),L("main",{class:H(f(e).b())},[oe(s.$slots,"default")],2))}});var Ta=Pe(jc,[["__file","main.vue"]]);const Ca=vt(xc,{Aside:wa,Footer:Ea,Header:Sa,Main:Ta});gt(wa);gt(Ea);gt(Sa);gt(Ta);const Ne=t=>bo(t),Uc=Le({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:J(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:J([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:J(Function),default:t=>`${t}%`}}),Bc=se({name:"ElProgress"}),zc=se({...Bc,props:Uc,setup(t){const e=t,s={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=_e("progress"),a=ee(()=>{const u={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},P=g(e.percentage);return P.includes("gradient")?u.background=P:u.backgroundColor=P,u}),o=ee(()=>(e.strokeWidth/e.width*100).toFixed(1)),l=ee(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),h=ee(()=>{const u=l.value,P=e.type==="dashboard";return`
          M 50 50
          m 0 ${P?"":"-"}${u}
          a ${u} ${u} 0 1 1 0 ${P?"-":""}${u*2}
          a ${u} ${u} 0 1 1 0 ${P?"":"-"}${u*2}
          `}),_=ee(()=>2*Math.PI*l.value),E=ee(()=>e.type==="dashboard"?.75:1),$=ee(()=>`${-1*_.value*(1-E.value)/2}px`),S=ee(()=>({strokeDasharray:`${_.value*E.value}px, ${_.value}px`,strokeDashoffset:$.value})),T=ee(()=>({strokeDasharray:`${_.value*E.value*(e.percentage/100)}px, ${_.value}px`,strokeDashoffset:$.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),m=ee(()=>{let u;return e.color?u=g(e.percentage):u=s[e.status]||s.default,u}),w=ee(()=>e.status==="warning"?_o:e.type==="line"?e.status==="success"?Hn:yo:e.status==="success"?Gn:mt),c=ee(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),y=ee(()=>e.format(e.percentage));function v(u){const P=100/u.length;return u.map((G,re)=>os(G)?{color:G,percentage:(re+1)*P}:G).sort((G,re)=>G.percentage-re.percentage)}const g=u=>{var P;const{color:z}=e;if(Zn(z))return z(u);if(os(z))return z;{const G=v(z);for(const re of G)if(re.percentage>u)return re.color;return(P=G[G.length-1])==null?void 0:P.color}};return(u,P)=>(D(),L("div",{class:H([f(n).b(),f(n).m(u.type),f(n).is(u.status),{[f(n).m("without-text")]:!u.showText,[f(n).m("text-inside")]:u.textInside}]),role:"progressbar","aria-valuenow":u.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[u.type==="line"?(D(),L("div",{key:0,class:H(f(n).b("bar"))},[d("div",{class:H(f(n).be("bar","outer")),style:be({height:`${u.strokeWidth}px`})},[d("div",{class:H([f(n).be("bar","inner"),{[f(n).bem("bar","inner","indeterminate")]:u.indeterminate},{[f(n).bem("bar","inner","striped")]:u.striped},{[f(n).bem("bar","inner","striped-flow")]:u.stripedFlow}]),style:be(f(a))},[(u.showText||u.$slots.default)&&u.textInside?(D(),L("div",{key:0,class:H(f(n).be("bar","innerText"))},[oe(u.$slots,"default",{percentage:u.percentage},()=>[d("span",null,te(f(y)),1)])],2)):Y("v-if",!0)],6)],6)],2)):(D(),L("div",{key:1,class:H(f(n).b("circle")),style:be({height:`${u.width}px`,width:`${u.width}px`})},[(D(),L("svg",{viewBox:"0 0 100 100"},[d("path",{class:H(f(n).be("circle","track")),d:f(h),stroke:`var(${f(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":u.strokeLinecap,"stroke-width":f(o),fill:"none",style:be(f(S))},null,14,["d","stroke","stroke-linecap","stroke-width"]),d("path",{class:H(f(n).be("circle","path")),d:f(h),stroke:f(m),fill:"none",opacity:u.percentage?1:0,"stroke-linecap":u.strokeLinecap,"stroke-width":f(o),style:be(f(T))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(u.showText||u.$slots.default)&&!u.textInside?(D(),L("div",{key:2,class:H(f(n).e("text")),style:be({fontSize:`${f(c)}px`})},[oe(u.$slots,"default",{percentage:u.percentage},()=>[u.status?(D(),Se(f(Te),{key:1},{default:Q(()=>[(D(),Se(wo(f(w))))]),_:1})):(D(),L("span",{key:0},te(f(y)),1))])],6)):Y("v-if",!0)],10,["aria-valuenow"]))}});var Kc=Pe(zc,[["__file","progress.vue"]]);const Pa=vt(Kc),Ht=Symbol("tabsRootContextKey"),Hc=Le({tabs:{type:J(Array),default:()=>tt([])},tabRefs:{type:J(Object),default:()=>tt({})}}),ka="ElTabBar",Gc=se({name:ka}),Zc=se({...Gc,props:Hc,setup(t,{expose:e}){const s=t,n=Bt(Ht);n||at(ka,"<el-tabs><el-tab-bar /></el-tabs>");const a=_e("tabs"),o=N(),l=N(),h=()=>{let T=0,m=0;const w=["top","bottom"].includes(n.props.tabPosition)?"width":"height",c=w==="width"?"x":"y",y=c==="x"?"left":"top";return s.tabs.every(v=>{if(rs(v.paneName))return!1;const g=s.tabRefs[v.paneName];if(!g)return!1;if(!v.active)return!0;T=g[`offset${Ne(y)}`],m=g[`client${Ne(w)}`];const u=window.getComputedStyle(g);return w==="width"&&(m-=Number.parseFloat(u.paddingLeft)+Number.parseFloat(u.paddingRight),T+=Number.parseFloat(u.paddingLeft)),!1}),{[w]:`${m}px`,transform:`translate${Ne(c)}(${T}px)`}},_=()=>l.value=h(),E=[],$=()=>{E.forEach(T=>T.stop()),E.length=0,Object.values(s.tabRefs).forEach(T=>{E.push(is(T,_))})};Ce(()=>s.tabs,async()=>{await Ue(),_(),$()},{immediate:!0});const S=is(o,()=>_());return zt(()=>{E.forEach(T=>T.stop()),E.length=0,S.stop()}),e({ref:o,update:_}),(T,m)=>(D(),L("div",{ref_key:"barRef",ref:o,class:H([f(a).e("active-bar"),f(a).is(f(n).props.tabPosition)]),style:be(l.value)},null,6))}});var Yc=Pe(Zc,[["__file","tab-bar.vue"]]);const Wc=Le({panes:{type:J(Array),default:()=>tt([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Vc={tabClick:(t,e,s)=>s instanceof Event,tabRemove:(t,e)=>e instanceof Event},Cn="ElTabNav",Xc=se({name:Cn,props:Wc,emits:Vc,setup(t,{expose:e,emit:s}){const n=Bt(Ht);n||at(Cn,"<el-tabs><tab-nav /></el-tabs>");const a=_e("tabs"),o=Eo(),l=So(),h=N(),_=N(),E=N(),$=N({}),S=N(),T=N(!1),m=N(0),w=N(!1),c=N(!0),y=et(),v=ee(()=>["top","bottom"].includes(n.props.tabPosition)?"width":"height"),g=ee(()=>({transform:`translate${v.value==="width"?"X":"Y"}(-${m.value}px)`})),u=()=>{if(!h.value)return;const I=h.value[`offset${Ne(v.value)}`],F=m.value;if(!F)return;const A=F>I?F-I:0;m.value=A},P=()=>{if(!h.value||!_.value)return;const I=_.value[`offset${Ne(v.value)}`],F=h.value[`offset${Ne(v.value)}`],A=m.value;if(I-A<=F)return;const Z=I-A>F*2?A+F:I-F;m.value=Z},z=async()=>{const I=_.value;if(!T.value||!E.value||!h.value||!I)return;await Ue();const F=$.value[t.currentName];if(!F)return;const A=h.value,Z=["top","bottom"].includes(n.props.tabPosition),R=F.getBoundingClientRect(),X=A.getBoundingClientRect(),ye=Z?I.offsetWidth-X.width:I.offsetHeight-X.height,U=m.value;let M=U;Z?(R.left<X.left&&(M=U-(X.left-R.left)),R.right>X.right&&(M=U+R.right-X.right)):(R.top<X.top&&(M=U-(X.top-R.top)),R.bottom>X.bottom&&(M=U+(R.bottom-X.bottom))),M=Math.max(M,0),m.value=Math.min(M,ye)},G=()=>{var I;if(!_.value||!h.value)return;t.stretch&&((I=S.value)==null||I.update());const F=_.value[`offset${Ne(v.value)}`],A=h.value[`offset${Ne(v.value)}`],Z=m.value;A<F?(T.value=T.value||{},T.value.prev=Z,T.value.next=Z+A<F,F-Z<A&&(m.value=F-A)):(T.value=!1,Z>0&&(m.value=0))},re=I=>{let F=0;switch(I.code){case Ie.left:case Ie.up:F=-1;break;case Ie.right:case Ie.down:F=1;break;default:return}const A=Array.from(I.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let R=A.indexOf(I.target)+F;R<0?R=A.length-1:R>=A.length&&(R=0),A[R].focus({preventScroll:!0}),A[R].click(),b()},b=()=>{c.value&&(w.value=!0)},C=()=>w.value=!1,B=(I,F)=>{$.value[F]=I},ne=async()=>{await Ue();const I=$.value[t.currentName];I?.focus({preventScroll:!0})};return Ce(o,I=>{I==="hidden"?c.value=!1:I==="visible"&&setTimeout(()=>c.value=!0,50)}),Ce(l,I=>{I?setTimeout(()=>c.value=!0,50):c.value=!1}),is(E,G),pt(()=>setTimeout(()=>z(),0)),To(()=>G()),e({scrollToActiveTab:z,removeFocus:C,focusActiveTab:ne,tabListRef:_,tabBarRef:S,scheduleRender:()=>Lt(y)}),()=>{const I=T.value?[x("span",{class:[a.e("nav-prev"),a.is("disabled",!T.value.prev)],onClick:u},[x(Te,null,{default:()=>[x(Co,null,null)]})]),x("span",{class:[a.e("nav-next"),a.is("disabled",!T.value.next)],onClick:P},[x(Te,null,{default:()=>[x(Po,null,null)]})])]:null,F=t.panes.map((A,Z)=>{var R,X,ye,U;const M=A.uid,K=A.props.disabled,W=(X=(R=A.props.name)!=null?R:A.index)!=null?X:`${Z}`,le=!K&&(A.isClosable||t.editable);A.index=`${Z}`;const _t=le?x(Te,{class:"is-icon-close",onClick:Ae=>s("tabRemove",A,Ae)},{default:()=>[x(mt,null,null)]}):null,$e=((U=(ye=A.slots).label)==null?void 0:U.call(ye))||A.props.label,Gt=!K&&A.active?0:-1;return x("div",{ref:Ae=>B(Ae,W),class:[a.e("item"),a.is(n.props.tabPosition),a.is("active",A.active),a.is("disabled",K),a.is("closable",le),a.is("focus",w.value)],id:`tab-${W}`,key:`tab-${M}`,"aria-controls":`pane-${W}`,role:"tab","aria-selected":A.active,tabindex:Gt,onFocus:()=>b(),onBlur:()=>C(),onClick:Ae=>{C(),s("tabClick",A,W,Ae)},onKeydown:Ae=>{le&&(Ae.code===Ie.delete||Ae.code===Ie.backspace)&&s("tabRemove",A,Ae)}},[$e,_t])});return y.value,x("div",{ref:E,class:[a.e("nav-wrap"),a.is("scrollable",!!T.value),a.is(n.props.tabPosition)]},[I,x("div",{class:a.e("nav-scroll"),ref:h},[t.panes.length>0?x("div",{class:[a.e("nav"),a.is(n.props.tabPosition),a.is("stretch",t.stretch&&["top","bottom"].includes(n.props.tabPosition))],ref:_,style:g.value,role:"tablist",onKeydown:re},[t.type?null:x(Yc,{ref:S,tabs:[...t.panes],tabRefs:$.value},null),F]):null])])}}}),qc=Le({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:J(Function),default:()=>!0},stretch:Boolean}),ts=t=>os(t)||ko(t),Qc={[Wn]:t=>ts(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>ts(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>ts(t),tabAdd:()=>!0},Jc=se({name:"ElTabs",props:qc,emits:Qc,setup(t,{emit:e,slots:s,expose:n}){var a;const o=_e("tabs"),l=ee(()=>["left","right"].includes(t.tabPosition)),{children:h,addChild:_,removeChild:E,ChildrenSorter:$}=Dc(Vn(),"ElTabPane"),S=N(),T=N((a=t.modelValue)!=null?a:"0"),m=async(g,u=!1)=>{var P,z,G,re;if(!(T.value===g||rs(g)))try{let b;if(t.beforeLeave){const C=t.beforeLeave(g,T.value);b=C instanceof Promise?await C:C}else b=!0;if(b!==!1){const C=(P=h.value.find(B=>B.paneName===T.value))==null?void 0:P.isFocusInsidePane();T.value=g,u&&(e(Wn,g),e("tabChange",g)),(G=(z=S.value)==null?void 0:z.removeFocus)==null||G.call(z),C&&((re=S.value)==null||re.focusActiveTab())}}catch{}},w=(g,u,P)=>{g.props.disabled||(e("tabClick",g,P),m(u,!0))},c=(g,u)=>{g.props.disabled||rs(g.props.name)||(u.stopPropagation(),e("edit",g.props.name,"remove"),e("tabRemove",g.props.name))},y=()=>{e("edit",void 0,"add"),e("tabAdd")},v=g=>{const u=g.el.firstChild,P=["bottom","right"].includes(t.tabPosition)?g.children[0].el:g.children[1].el;u!==P&&u.before(P)};return Ce(()=>t.modelValue,g=>m(g)),Ce(T,async()=>{var g;await Ue(),(g=S.value)==null||g.scrollToActiveTab()}),Xn(Ht,{props:t,currentName:T,registerPane:_,unregisterPane:E,nav$:S}),n({currentName:T,get tabNavRef(){return Ec(S.value,["scheduleRender"])}}),()=>{const g=s["add-icon"],u=t.editable||t.addable?x("div",{class:[o.e("new-tab"),l.value&&o.e("new-tab-vertical")],tabindex:"0",onClick:y,onKeydown:re=>{[Ie.enter,Ie.numpadEnter].includes(re.code)&&y()}},[g?oe(s,"add-icon"):x(Te,{class:o.is("icon-plus")},{default:()=>[x(Yn,null,null)]})]):null,P=()=>x(Xc,{ref:S,currentName:T.value,editable:t.editable,type:t.type,panes:h.value,stretch:t.stretch,onTabClick:w,onTabRemove:c},null),z=x("div",{class:[o.e("header"),l.value&&o.e("header-vertical"),o.is(t.tabPosition)]},[x($,null,{default:P,$stable:!0}),u]),G=x("div",{class:o.e("content")},[oe(s,"default")]);return x("div",{class:[o.b(),o.m(t.tabPosition),{[o.m("card")]:t.type==="card",[o.m("border-card")]:t.type==="border-card"}],onVnodeMounted:v,onVnodeUpdated:v},[G,z])}}});var eu=Jc;const tu=Le({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Da="ElTabPane",su=se({name:Da}),nu=se({...su,props:tu,setup(t){const e=t,s=Vn(),n=Kn(),a=Bt(Ht);a||at(Da,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=_e("tab-pane"),l=N(),h=N(),_=ee(()=>e.closable||a.props.closable),E=Bs(()=>{var c;return a.currentName.value===((c=e.name)!=null?c:h.value)}),$=N(E.value),S=ee(()=>{var c;return(c=e.name)!=null?c:h.value}),T=Bs(()=>!e.lazy||$.value||E.value),m=()=>{var c;return(c=l.value)==null?void 0:c.contains(document.activeElement)};Ce(E,c=>{c&&($.value=!0)});const w=Do({uid:s.uid,getVnode:()=>s.vnode,slots:n,props:e,paneName:S,active:E,index:h,isClosable:_,isFocusInsidePane:m});return a.registerPane(w),zt(()=>{a.unregisterPane(w)}),$o(()=>{var c;n.label&&((c=a.nav$.value)==null||c.scheduleRender())}),(c,y)=>f(T)?qn((D(),L("div",{key:0,id:`pane-${f(S)}`,ref_key:"paneRef",ref:l,class:H(f(o).b()),role:"tabpanel","aria-hidden":!f(E),"aria-labelledby":`tab-${f(S)}`},[oe(c.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Ao,f(E)]]):Y("v-if",!0)}});var $a=Pe(nu,[["__file","tab-pane.vue"]]);const au=vt(eu,{TabPane:$a}),ou=gt($a),Aa=Symbol("uploadContextKey"),iu="ElUpload";class ru extends Error{constructor(e,s,n,a){super(e),this.name="UploadAjaxError",this.status=s,this.method=n,this.url=a}}function Pn(t,e,s){let n;return s.response?n=`${s.response.error||s.response}`:s.responseText?n=`${s.responseText}`:n=`fail to ${e.method} ${t} ${s.status}`,new ru(n,s.status,e.method,t)}function lu(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const cu=t=>{typeof XMLHttpRequest>"u"&&at(iu,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,s=t.action;e.upload&&e.upload.addEventListener("progress",o=>{const l=o;l.percent=o.total>0?o.loaded/o.total*100:0,t.onProgress(l)});const n=new FormData;if(t.data)for(const[o,l]of Object.entries(t.data))Qn(l)&&l.length?n.append(o,...l):n.append(o,l);n.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(Pn(s,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(Pn(s,t,e));t.onSuccess(lu(e))}),e.open(t.method,s,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const a=t.headers||{};if(a instanceof Headers)a.forEach((o,l)=>e.setRequestHeader(l,o));else for(const[o,l]of Object.entries(a))Jn(l)||e.setRequestHeader(o,String(l));return e.send(n),e},xa=["text","picture","picture-card"];let uu=1;const ps=()=>Date.now()+uu++,La=Le({action:{type:String,default:"#"},headers:{type:J(Object)},method:{type:String,default:"post"},data:{type:J([Object,Function,Promise]),default:()=>tt({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:J(Array),default:()=>tt([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:xa,default:"text"},httpRequest:{type:J(Function),default:cu},disabled:Boolean,limit:Number}),du=Le({...La,beforeUpload:{type:J(Function),default:ge},beforeRemove:{type:J(Function)},onRemove:{type:J(Function),default:ge},onChange:{type:J(Function),default:ge},onPreview:{type:J(Function),default:ge},onSuccess:{type:J(Function),default:ge},onProgress:{type:J(Function),default:ge},onError:{type:J(Function),default:ge},onExceed:{type:J(Function),default:ge},crossorigin:{type:J(String)}}),hu=Le({files:{type:J(Array),default:()=>tt([])},disabled:Boolean,handlePreview:{type:J(Function),default:ge},listType:{type:String,values:xa,default:"text"},crossorigin:{type:J(String)}}),fu={remove:t=>!!t},pu=se({name:"ElUploadList"}),mu=se({...pu,props:hu,emits:fu,setup(t,{emit:e}){const s=t,{t:n}=xo(),a=_e("upload"),o=_e("icon"),l=_e("list"),h=Kt(),_=N(!1),E=ee(()=>[a.b("list"),a.bm("list",s.listType),a.is("disabled",s.disabled)]),$=S=>{e("remove",S)};return(S,T)=>(D(),Se(Ro,{tag:"ul",class:H(f(E)),name:f(l).b()},{default:Q(()=>[(D(!0),L(Ye,null,We(S.files,(m,w)=>(D(),L("li",{key:m.uid||m.name,class:H([f(a).be("list","item"),f(a).is(m.status),{focusing:_.value}]),tabindex:"0",onKeydown:ea(c=>!f(h)&&$(m),["delete"]),onFocus:c=>_.value=!0,onBlur:c=>_.value=!1,onClick:c=>_.value=!1},[oe(S.$slots,"default",{file:m,index:w},()=>[S.listType==="picture"||m.status!=="uploading"&&S.listType==="picture-card"?(D(),L("img",{key:0,class:H(f(a).be("list","item-thumbnail")),src:m.url,crossorigin:S.crossorigin,alt:""},null,10,["src","crossorigin"])):Y("v-if",!0),m.status==="uploading"||S.listType!=="picture-card"?(D(),L("div",{key:1,class:H(f(a).be("list","item-info"))},[d("a",{class:H(f(a).be("list","item-name")),onClick:qe(c=>S.handlePreview(m),["prevent"])},[x(f(Te),{class:H(f(o).m("document"))},{default:Q(()=>[x(f(Lo))]),_:1},8,["class"]),d("span",{class:H(f(a).be("list","item-file-name")),title:m.name},te(m.name),11,["title"])],10,["onClick"]),m.status==="uploading"?(D(),Se(f(Pa),{key:0,type:S.listType==="picture-card"?"circle":"line","stroke-width":S.listType==="picture-card"?6:2,percentage:Number(m.percentage),style:be(S.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Y("v-if",!0)],2)):Y("v-if",!0),d("label",{class:H(f(a).be("list","item-status-label"))},[S.listType==="text"?(D(),Se(f(Te),{key:0,class:H([f(o).m("upload-success"),f(o).m("circle-check")])},{default:Q(()=>[x(f(Hn))]),_:1},8,["class"])):["picture-card","picture"].includes(S.listType)?(D(),Se(f(Te),{key:1,class:H([f(o).m("upload-success"),f(o).m("check")])},{default:Q(()=>[x(f(Gn))]),_:1},8,["class"])):Y("v-if",!0)],2),f(h)?Y("v-if",!0):(D(),Se(f(Te),{key:2,class:H(f(o).m("close")),onClick:c=>$(m)},{default:Q(()=>[x(f(mt))]),_:2},1032,["class","onClick"])),Y(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Y(" This is a bug which needs to be fixed "),Y(" TODO: Fix the incorrect navigation interaction "),f(h)?Y("v-if",!0):(D(),L("i",{key:3,class:H(f(o).m("close-tip"))},te(f(n)("el.upload.deleteTip")),3)),S.listType==="picture-card"?(D(),L("span",{key:4,class:H(f(a).be("list","item-actions"))},[d("span",{class:H(f(a).be("list","item-preview")),onClick:c=>S.handlePreview(m)},[x(f(Te),{class:H(f(o).m("zoom-in"))},{default:Q(()=>[x(f(Mo))]),_:1},8,["class"])],10,["onClick"]),f(h)?Y("v-if",!0):(D(),L("span",{key:0,class:H(f(a).be("list","item-delete")),onClick:c=>$(m)},[x(f(Te),{class:H(f(o).m("delete"))},{default:Q(()=>[x(f(Oo))]),_:1},8,["class"])],10,["onClick"]))],2)):Y("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),oe(S.$slots,"append")]),_:3},8,["class","name"]))}});var kn=Pe(mu,[["__file","upload-list.vue"]]);const vu=Le({disabled:Boolean}),gu={file:t=>Qn(t)},Ma="ElUploadDrag",bu=se({name:Ma}),_u=se({...bu,props:vu,emits:gu,setup(t,{emit:e}){Bt(Aa)||at(Ma,"usage: <el-upload><el-upload-dragger /></el-upload>");const n=_e("upload"),a=N(!1),o=Kt(),l=E=>{if(o.value)return;a.value=!1,E.stopPropagation();const $=Array.from(E.dataTransfer.files),S=E.dataTransfer.items||[];$.forEach((T,m)=>{var w;const c=S[m],y=(w=c?.webkitGetAsEntry)==null?void 0:w.call(c);y&&(T.isDirectory=y.isDirectory)}),e("file",$)},h=()=>{o.value||(a.value=!0)},_=E=>{E.currentTarget.contains(E.relatedTarget)||(a.value=!1)};return(E,$)=>(D(),L("div",{class:H([f(n).b("dragger"),f(n).is("dragover",a.value)]),onDrop:qe(l,["prevent"]),onDragover:qe(h,["prevent"]),onDragleave:qe(_,["prevent"])},[oe(E.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var yu=Pe(_u,[["__file","upload-dragger.vue"]]);const wu=Le({...La,beforeUpload:{type:J(Function),default:ge},onRemove:{type:J(Function),default:ge},onStart:{type:J(Function),default:ge},onSuccess:{type:J(Function),default:ge},onProgress:{type:J(Function),default:ge},onError:{type:J(Function),default:ge},onExceed:{type:J(Function),default:ge}}),Eu=se({name:"ElUploadContent",inheritAttrs:!1}),Su=se({...Eu,props:wu,setup(t,{expose:e}){const s=t,n=_e("upload"),a=Kt(),o=et({}),l=et(),h=c=>{if(c.length===0)return;const{autoUpload:y,limit:v,fileList:g,multiple:u,onStart:P,onExceed:z}=s;if(v&&g.length+c.length>v){z(c,g);return}u||(c=c.slice(0,1));for(const G of c){const re=G;re.uid=ps(),P(re),y&&_(re)}},_=async c=>{if(l.value.value="",!s.beforeUpload)return $(c);let y,v={};try{const u=s.data,P=s.beforeUpload(c);v=zs(s.data)?yn(s.data):s.data,y=await P,zs(s.data)&&vc(u,v)&&(v=yn(s.data))}catch{y=!1}if(y===!1){s.onRemove(c);return}let g=c;y instanceof Blob&&(y instanceof File?g=y:g=new File([y],c.name,{type:c.type})),$(Object.assign(g,{uid:c.uid}),v)},E=async(c,y)=>Zn(c)?c(y):c,$=async(c,y)=>{const{headers:v,data:g,method:u,withCredentials:P,name:z,action:G,onProgress:re,onSuccess:b,onError:C,httpRequest:B}=s;try{y=await E(y??g,c)}catch{s.onRemove(c);return}const{uid:ne}=c,I={headers:v||{},withCredentials:P,file:c,data:y,method:u,filename:z,action:G,onProgress:A=>{re(A,c)},onSuccess:A=>{b(A,c),delete o.value[ne]},onError:A=>{C(A,c),delete o.value[ne]}},F=B(I);o.value[ne]=F,F instanceof Promise&&F.then(I.onSuccess,I.onError)},S=c=>{const y=c.target.files;y&&h(Array.from(y))},T=()=>{a.value||(l.value.value="",l.value.click())},m=()=>{T()};return e({abort:c=>{Io(o.value).filter(c?([v])=>String(c.uid)===v:()=>!0).forEach(([v,g])=>{g instanceof XMLHttpRequest&&g.abort(),delete o.value[v]})},upload:_}),(c,y)=>(D(),L("div",{class:H([f(n).b(),f(n).m(c.listType),f(n).is("drag",c.drag),f(n).is("disabled",f(a))]),tabindex:f(a)?"-1":"0",onClick:T,onKeydown:ea(qe(m,["self"]),["enter","space"])},[c.drag?(D(),Se(yu,{key:0,disabled:f(a),onFile:h},{default:Q(()=>[oe(c.$slots,"default")]),_:3},8,["disabled"])):oe(c.$slots,"default",{key:1}),d("input",{ref_key:"inputRef",ref:l,class:H(f(n).e("input")),name:c.name,disabled:f(a),multiple:c.multiple,accept:c.accept,type:"file",onChange:S,onClick:qe(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var Dn=Pe(Su,[["__file","upload-content.vue"]]);const $n="ElUpload",An=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Tu=(t,e)=>{const s=No(t,"fileList",void 0,{passive:!0}),n=m=>s.value.find(w=>w.uid===m.uid);function a(m){var w;(w=e.value)==null||w.abort(m)}function o(m=["ready","uploading","success","fail"]){s.value=s.value.filter(w=>!m.includes(w.status))}function l(m){s.value=s.value.filter(w=>w.uid!==m.uid)}const h=(m,w)=>{const c=n(w);c&&(console.error(m),c.status="fail",l(c),t.onError(m,c,s.value),t.onChange(c,s.value))},_=(m,w)=>{const c=n(w);c&&(t.onProgress(m,c,s.value),c.status="uploading",c.percentage=Math.round(m.percent))},E=(m,w)=>{const c=n(w);c&&(c.status="success",c.response=m,t.onSuccess(m,c,s.value),t.onChange(c,s.value))},$=m=>{Jn(m.uid)&&(m.uid=ps());const w={name:m.name,percentage:0,status:"ready",size:m.size,raw:m,uid:m.uid};if(t.listType==="picture-card"||t.listType==="picture")try{w.url=URL.createObjectURL(m)}catch(c){Fo($n,c.message),t.onError(c,w,s.value)}s.value=[...s.value,w],t.onChange(w,s.value)},S=async m=>{const w=m instanceof File?n(m):m;w||at($n,"file to be removed not found");const c=y=>{a(y),l(y),t.onRemove(y,s.value),An(y)};t.beforeRemove?await t.beforeRemove(w,s.value)!==!1&&c(w):c(w)};function T(){s.value.filter(({status:m})=>m==="ready").forEach(({raw:m})=>{var w;return m&&((w=e.value)==null?void 0:w.upload(m))})}return Ce(()=>t.listType,m=>{m!=="picture-card"&&m!=="picture"||(s.value=s.value.map(w=>{const{raw:c,url:y}=w;if(!y&&c)try{w.url=URL.createObjectURL(c)}catch(v){t.onError(v,w,s.value)}return w}))}),Ce(s,m=>{for(const w of m)w.uid||(w.uid=ps()),w.status||(w.status="success")},{immediate:!0,deep:!0}),{uploadFiles:s,abort:a,clearFiles:o,handleError:h,handleProgress:_,handleStart:$,handleSuccess:E,handleRemove:S,submit:T,revokeFileObjectURL:An}},Cu=se({name:"ElUpload"}),Pu=se({...Cu,props:du,setup(t,{expose:e}){const s=t,n=Kt(),a=et(),{abort:o,submit:l,clearFiles:h,uploadFiles:_,handleStart:E,handleError:$,handleRemove:S,handleSuccess:T,handleProgress:m,revokeFileObjectURL:w}=Tu(s,a),c=ee(()=>s.listType==="picture-card"),y=ee(()=>({...s,fileList:_.value,onStart:E,onProgress:m,onSuccess:T,onError:$,onRemove:S}));return zt(()=>{_.value.forEach(w)}),Xn(Aa,{accept:jo(s,"accept")}),e({abort:o,submit:l,clearFiles:h,handleStart:E,handleRemove:S}),(v,g)=>(D(),L("div",null,[f(c)&&v.showFileList?(D(),Se(kn,{key:0,disabled:f(n),"list-type":v.listType,files:f(_),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:f(S)},Ks({append:Q(()=>[x(Dn,Hs({ref_key:"uploadRef",ref:a},f(y)),{default:Q(()=>[v.$slots.trigger?oe(v.$slots,"trigger",{key:0}):Y("v-if",!0),!v.$slots.trigger&&v.$slots.default?oe(v.$slots,"default",{key:1}):Y("v-if",!0)]),_:3},16)]),_:2},[v.$slots.file?{name:"default",fn:Q(({file:u,index:P})=>[oe(v.$slots,"file",{file:u,index:P})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Y("v-if",!0),!f(c)||f(c)&&!v.showFileList?(D(),Se(Dn,Hs({key:1,ref_key:"uploadRef",ref:a},f(y)),{default:Q(()=>[v.$slots.trigger?oe(v.$slots,"trigger",{key:0}):Y("v-if",!0),!v.$slots.trigger&&v.$slots.default?oe(v.$slots,"default",{key:1}):Y("v-if",!0)]),_:3},16)):Y("v-if",!0),v.$slots.trigger?oe(v.$slots,"default",{key:2}):Y("v-if",!0),oe(v.$slots,"tip"),!f(c)&&v.showFileList?(D(),Se(kn,{key:3,disabled:f(n),"list-type":v.listType,files:f(_),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:f(S)},Ks({_:2},[v.$slots.file?{name:"default",fn:Q(({file:u,index:P})=>[oe(v.$slots,"file",{file:u,index:P})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Y("v-if",!0)]))}});var ku=Pe(Pu,[["__file","upload.vue"]]);const Du=vt(ku),$u={class:"status-card-wrapper"},Au={class:"status-text"},xu={class:"content-wrapper"},Lu={__name:"StatusCard",props:{status:{type:String,default:"enabled",validator:t=>["success","fail","disabled","enabled"].includes(t)},fullRow:{type:Boolean,default:!1}},setup(t){const e=t,s=ee(()=>({success:{primary:"#00c853",secondary:"#00e676",glow:"rgba(0, 200, 83, 0.4)",border:"rgba(0, 200, 83, 0.6)"},fail:{primary:"#ff3741",secondary:"#ff6d6d",glow:"rgba(255, 55, 65, 0.4)",border:"rgba(255, 55, 65, 0.6)"},disabled:{primary:"#9e9e9e",secondary:"#bdbdbd",glow:"rgba(150, 150, 150, 0.2)",border:"rgba(150, 150, 150, 0.3)"},enabled:{primary:"#00b4dc",secondary:"#00c8ff",glow:"rgba(0, 180, 220, 0.4)",border:"rgba(0, 180, 220, 0.6)"}})),n=ee(()=>{const a=s.value[e.status];return{"--status-primary":a.primary,"--status-secondary":a.secondary,"--status-glow":a.glow,"--status-border":a.border,opacity:e.status==="disabled"?.6:1,cursor:e.status==="disabled"?"not-allowed":"inherit",width:e.fullRow?"100%":"auto",margin:e.fullRow?"100px 0":"0"}});return(a,o)=>{const l=ya;return D(),L("div",$u,[x(l,{class:H(["status-card",[t.status,{"full-row":t.fullRow,disabled:t.status==="disabled"}]]),style:be(n.value),shadow:t.status==="disabled"?"never":"hover"},{default:Q(()=>[d("div",{class:H(["status-indicator",t.status])},o[0]||(o[0]=[d("div",{class:"status-glow"},null,-1)]),2),d("div",{class:H(["status-badge",t.status])},[d("span",Au,te(t.status.toUpperCase()),1)],2),d("div",xu,[oe(a.$slots,"default",{},void 0,!0)]),o[1]||(o[1]=d("div",{class:"card-border"},[d("div",{class:"border-line border-top"}),d("div",{class:"border-line border-right"}),d("div",{class:"border-line border-bottom"}),d("div",{class:"border-line border-left"})],-1)),o[2]||(o[2]=d("div",{class:"background-grid"},null,-1))]),_:3,__:[1,2]},8,["class","style","shadow"])])}}},ss=ze(Lu,[["__scopeId","data-v-83fc8dd9"]]);class Mu{constructor(e,s={}){this.enabled=!0;const n=s.defaultThickness!==void 0?s.defaultThickness:.003,a=new ta().fromArray(s.defaultColor!==void 0?s.defaultColor:[0,0,0]),o=s.defaultAlpha!==void 0?s.defaultAlpha:1,l=s.defaultKeepAlive!==void 0?s.defaultKeepAlive:!1,h={},_=60,E={},$={},S={outlineThickness:{value:n},outlineColor:{value:a},outlineAlpha:{value:o}},T=["#include <common>","#include <uv_pars_vertex>","#include <displacementmap_pars_vertex>","#include <fog_pars_vertex>","#include <morphtarget_pars_vertex>","#include <skinning_pars_vertex>","#include <logdepthbuf_pars_vertex>","#include <clipping_planes_pars_vertex>","uniform float outlineThickness;","vec4 calculateOutline( vec4 pos, vec3 normal, vec4 skinned ) {","	float thickness = outlineThickness;","	const float ratio = 1.0;","	vec4 pos2 = projectionMatrix * modelViewMatrix * vec4( skinned.xyz + normal, 1.0 );","	vec4 norm = normalize( pos - pos2 );","	return pos + norm * thickness * pos.w * ratio;","}","void main() {","	#include <uv_vertex>","	#include <beginnormal_vertex>","	#include <morphnormal_vertex>","	#include <skinbase_vertex>","	#include <skinnormal_vertex>","	#include <begin_vertex>","	#include <morphtarget_vertex>","	#include <skinning_vertex>","	#include <displacementmap_vertex>","	#include <project_vertex>","	vec3 outlineNormal = - objectNormal;","	gl_Position = calculateOutline( gl_Position, outlineNormal, vec4( transformed, 1.0 ) );","	#include <logdepthbuf_vertex>","	#include <clipping_planes_vertex>","	#include <fog_vertex>","}"].join(`
`),m=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","#include <clipping_planes_pars_fragment>","uniform vec3 outlineColor;","uniform float outlineAlpha;","void main() {","	#include <clipping_planes_fragment>","	#include <logdepthbuf_fragment>","	gl_FragColor = vec4( outlineColor, outlineAlpha );","	#include <tonemapping_fragment>","	#include <colorspace_fragment>","	#include <fog_fragment>","	#include <premultiplied_alpha_fragment>","}"].join(`
`);function w(){return new Xo({type:"OutlineEffect",uniforms:Qo.merge([Gs.fog,Gs.displacementmap,S]),vertexShader:T,fragmentShader:m,side:qo})}function c(b){let C=h[b.uuid];return C===void 0&&(C={material:w(),used:!0,keepAlive:l,count:0},h[b.uuid]=C),C.used=!0,C.material}function y(b){const C=c(b);return E[C.uuid]=b,G(C,b),C}function v(b){const C=b.geometry,B=C!==void 0&&C.attributes.normal!==void 0;return b.isMesh===!0&&b.material!==void 0&&B===!0}function g(b){if(v(b)!==!1){if(Array.isArray(b.material))for(let C=0,B=b.material.length;C<B;C++)b.material[C]=y(b.material[C]);else b.material=y(b.material);$[b.uuid]=b.onBeforeRender,b.onBeforeRender=P}}function u(b){if(v(b)!==!1){if(Array.isArray(b.material))for(let C=0,B=b.material.length;C<B;C++)b.material[C]=E[b.material[C].uuid];else b.material=E[b.material.uuid];b.onBeforeRender=$[b.uuid]}}function P(b,C,B,ne,I){const F=E[I.uuid];F!==void 0&&z(I,F)}function z(b,C){const B=C.userData.outlineParameters;b.uniforms.outlineAlpha.value=C.opacity,B!==void 0&&(B.thickness!==void 0&&(b.uniforms.outlineThickness.value=B.thickness),B.color!==void 0&&b.uniforms.outlineColor.value.fromArray(B.color),B.alpha!==void 0&&(b.uniforms.outlineAlpha.value=B.alpha)),C.displacementMap&&(b.uniforms.displacementMap.value=C.displacementMap,b.uniforms.displacementScale.value=C.displacementScale,b.uniforms.displacementBias.value=C.displacementBias)}function G(b,C){if(b.name==="invisible")return;const B=C.userData.outlineParameters;b.fog=C.fog,b.toneMapped=C.toneMapped,b.premultipliedAlpha=C.premultipliedAlpha,b.displacementMap=C.displacementMap,B!==void 0?(C.visible===!1?b.visible=!1:b.visible=B.visible!==void 0?B.visible:!0,b.transparent=B.alpha!==void 0&&B.alpha<1?!0:C.transparent,B.keepAlive!==void 0&&(h[C.uuid].keepAlive=B.keepAlive)):(b.transparent=C.transparent,b.visible=C.visible),(C.wireframe===!0||C.depthTest===!1)&&(b.visible=!1),C.clippingPlanes&&(b.clipping=!0,b.clippingPlanes=C.clippingPlanes,b.clipIntersection=C.clipIntersection,b.clipShadows=C.clipShadows),b.version=C.version}function re(){let b;b=Object.keys(E);for(let C=0,B=b.length;C<B;C++)E[b[C]]=void 0;b=Object.keys($);for(let C=0,B=b.length;C<B;C++)$[b[C]]=void 0;b=Object.keys(h);for(let C=0,B=b.length;C<B;C++){const ne=b[C];h[ne].used===!1?(h[ne].count++,h[ne].keepAlive===!1&&h[ne].count>_&&delete h[ne]):(h[ne].used=!1,h[ne].count=0)}}this.render=function(b,C){if(this.enabled===!1){e.render(b,C);return}const B=e.autoClear;e.autoClear=this.autoClear,e.render(b,C),e.autoClear=B,this.renderOutline(b,C)},this.renderOutline=function(b,C){const B=e.autoClear,ne=b.matrixWorldAutoUpdate,I=b.background,F=e.shadowMap.enabled;b.matrixWorldAutoUpdate=!1,b.background=null,e.autoClear=!1,e.shadowMap.enabled=!1,b.traverse(g),e.render(b,C),b.traverse(u),re(),b.matrixWorldAutoUpdate=ne,b.background=I,e.autoClear=B,e.shadowMap.enabled=F},this.setSize=function(b,C){e.setSize(b,C)}}}const Ge=new Jo(0,0,0,"YXZ"),Ze=new ue,Ou={type:"change"},Ru={type:"lock"},Iu={type:"unlock"},xn=.002,Ln=Math.PI/2;class Nu extends sa{constructor(e,s=null){super(e,s),this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.pointerSpeed=1,this._onMouseMove=Fu.bind(this),this._onPointerlockChange=ju.bind(this),this._onPointerlockError=Uu.bind(this),this.domElement!==null&&this.connect(this.domElement)}connect(e){super.connect(e),this.domElement.ownerDocument.addEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this._onPointerlockError)}disconnect(){this.domElement.ownerDocument.removeEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this._onPointerlockError)}dispose(){this.disconnect()}getObject(){return console.warn("THREE.PointerLockControls: getObject() has been deprecated. Use controls.object instead."),this.object}getDirection(e){return e.set(0,0,-1).applyQuaternion(this.object.quaternion)}moveForward(e){if(this.enabled===!1)return;const s=this.object;Ze.setFromMatrixColumn(s.matrix,0),Ze.crossVectors(s.up,Ze),s.position.addScaledVector(Ze,e)}moveRight(e){if(this.enabled===!1)return;const s=this.object;Ze.setFromMatrixColumn(s.matrix,0),s.position.addScaledVector(Ze,e)}lock(e=!1){this.domElement.requestPointerLock({unadjustedMovement:e})}unlock(){this.domElement.ownerDocument.exitPointerLock()}}function Fu(t){if(this.enabled===!1||this.isLocked===!1)return;const e=this.object;Ge.setFromQuaternion(e.quaternion),Ge.y-=t.movementX*xn*this.pointerSpeed,Ge.x-=t.movementY*xn*this.pointerSpeed,Ge.x=Math.max(Ln-this.maxPolarAngle,Math.min(Ln-this.minPolarAngle,Ge.x)),e.quaternion.setFromEuler(Ge),this.dispatchEvent(Ou)}function ju(){this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(Ru),this.isLocked=!0):(this.dispatchEvent(Iu),this.isLocked=!1)}function Uu(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}const Mn={type:"change"},Ts={type:"start"},Oa={type:"end"},At=new ei,On=new ti,Bu=Math.cos(70*ls.DEG2RAD),me=new ue,Ee=2*Math.PI,ae={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},ns=1e-6;class zu extends sa{constructor(e,s=null){super(e,s),this.state=ae.NONE,this.target=new ue,this.cursor=new ue,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Qe.ROTATE,MIDDLE:Qe.DOLLY,RIGHT:Qe.PAN},this.touches={ONE:Xe.ROTATE,TWO:Xe.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new ue,this._lastQuaternion=new Zs,this._lastTargetPosition=new ue,this._quat=new Zs().setFromUnitVectors(e.up,new ue(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new Ys,this._sphericalDelta=new Ys,this._scale=1,this._panOffset=new ue,this._rotateStart=new ke,this._rotateEnd=new ke,this._rotateDelta=new ke,this._panStart=new ke,this._panEnd=new ke,this._panDelta=new ke,this._dollyStart=new ke,this._dollyEnd=new ke,this._dollyDelta=new ke,this._dollyDirection=new ue,this._mouse=new ke,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Hu.bind(this),this._onPointerDown=Ku.bind(this),this._onPointerUp=Gu.bind(this),this._onContextMenu=Qu.bind(this),this._onMouseWheel=Wu.bind(this),this._onKeyDown=Vu.bind(this),this._onTouchStart=Xu.bind(this),this._onTouchMove=qu.bind(this),this._onMouseDown=Zu.bind(this),this._onMouseMove=Yu.bind(this),this._interceptControlDown=Ju.bind(this),this._interceptControlUp=ed.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Mn),this.update(),this.state=ae.NONE}update(e=null){const s=this.object.position;me.copy(s).sub(this.target),me.applyQuaternion(this._quat),this._spherical.setFromVector3(me),this.autoRotate&&this.state===ae.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let n=this.minAzimuthAngle,a=this.maxAzimuthAngle;isFinite(n)&&isFinite(a)&&(n<-Math.PI?n+=Ee:n>Math.PI&&(n-=Ee),a<-Math.PI?a+=Ee:a>Math.PI&&(a-=Ee),n<=a?this._spherical.theta=Math.max(n,Math.min(a,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(n+a)/2?Math.max(n,this._spherical.theta):Math.min(a,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let o=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const l=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),o=l!=this._spherical.radius}if(me.setFromSpherical(this._spherical),me.applyQuaternion(this._quatInverse),s.copy(this.target).add(me),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let l=null;if(this.object.isPerspectiveCamera){const h=me.length();l=this._clampDistance(h*this._scale);const _=h-l;this.object.position.addScaledVector(this._dollyDirection,_),this.object.updateMatrixWorld(),o=!!_}else if(this.object.isOrthographicCamera){const h=new ue(this._mouse.x,this._mouse.y,0);h.unproject(this.object);const _=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),o=_!==this.object.zoom;const E=new ue(this._mouse.x,this._mouse.y,0);E.unproject(this.object),this.object.position.sub(E).add(h),this.object.updateMatrixWorld(),l=me.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;l!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(l).add(this.object.position):(At.origin.copy(this.object.position),At.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(At.direction))<Bu?this.object.lookAt(this.target):(On.setFromNormalAndCoplanarPoint(this.object.up,this.target),At.intersectPlane(On,this.target))))}else if(this.object.isOrthographicCamera){const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),l!==this.object.zoom&&(this.object.updateProjectionMatrix(),o=!0)}return this._scale=1,this._performCursorZoom=!1,o||this._lastPosition.distanceToSquared(this.object.position)>ns||8*(1-this._lastQuaternion.dot(this.object.quaternion))>ns||this._lastTargetPosition.distanceToSquared(this.target)>ns?(this.dispatchEvent(Mn),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Ee/60*this.autoRotateSpeed*e:Ee/60/60*this.autoRotateSpeed}_getZoomScale(e){const s=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*s)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,s){me.setFromMatrixColumn(s,0),me.multiplyScalar(-e),this._panOffset.add(me)}_panUp(e,s){this.screenSpacePanning===!0?me.setFromMatrixColumn(s,1):(me.setFromMatrixColumn(s,0),me.crossVectors(this.object.up,me)),me.multiplyScalar(e),this._panOffset.add(me)}_pan(e,s){const n=this.domElement;if(this.object.isPerspectiveCamera){const a=this.object.position;me.copy(a).sub(this.target);let o=me.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*o/n.clientHeight,this.object.matrix),this._panUp(2*s*o/n.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this._panUp(s*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,s){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const n=this.domElement.getBoundingClientRect(),a=e-n.left,o=s-n.top,l=n.width,h=n.height;this._mouse.x=a/l*2-1,this._mouse.y=-(o/h)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const s=this.domElement;this._rotateLeft(Ee*this._rotateDelta.x/s.clientHeight),this._rotateUp(Ee*this._rotateDelta.y/s.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let s=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Ee*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),s=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Ee*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),s=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Ee*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),s=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Ee*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),s=!0;break}s&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const s=this._getSecondPointerPosition(e),n=.5*(e.pageX+s.x),a=.5*(e.pageY+s.y);this._rotateStart.set(n,a)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const s=this._getSecondPointerPosition(e),n=.5*(e.pageX+s.x),a=.5*(e.pageY+s.y);this._panStart.set(n,a)}}_handleTouchStartDolly(e){const s=this._getSecondPointerPosition(e),n=e.pageX-s.x,a=e.pageY-s.y,o=Math.sqrt(n*n+a*a);this._dollyStart.set(0,o)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),a=.5*(e.pageX+n.x),o=.5*(e.pageY+n.y);this._rotateEnd.set(a,o)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const s=this.domElement;this._rotateLeft(Ee*this._rotateDelta.x/s.clientHeight),this._rotateUp(Ee*this._rotateDelta.y/s.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const s=this._getSecondPointerPosition(e),n=.5*(e.pageX+s.x),a=.5*(e.pageY+s.y);this._panEnd.set(n,a)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const s=this._getSecondPointerPosition(e),n=e.pageX-s.x,a=e.pageY-s.y,o=Math.sqrt(n*n+a*a);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const l=(e.pageX+s.x)*.5,h=(e.pageY+s.y)*.5;this._updateZoomParameters(l,h)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let s=0;s<this._pointers.length;s++)if(this._pointers[s]==e.pointerId){this._pointers.splice(s,1);return}}_isTrackingPointer(e){for(let s=0;s<this._pointers.length;s++)if(this._pointers[s]==e.pointerId)return!0;return!1}_trackPointer(e){let s=this._pointerPositions[e.pointerId];s===void 0&&(s=new ke,this._pointerPositions[e.pointerId]=s),s.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const s=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[s]}_customWheelEvent(e){const s=e.deltaMode,n={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(s){case 1:n.deltaY*=16;break;case 2:n.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(n.deltaY*=10),n}}function Ku(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function Hu(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function Gu(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Oa),this.state=ae.NONE;break;case 1:const e=this._pointers[0],s=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:s.x,pageY:s.y});break}}function Zu(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Qe.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=ae.DOLLY;break;case Qe.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=ae.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=ae.ROTATE}break;case Qe.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=ae.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=ae.PAN}break;default:this.state=ae.NONE}this.state!==ae.NONE&&this.dispatchEvent(Ts)}function Yu(t){switch(this.state){case ae.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case ae.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case ae.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function Wu(t){this.enabled===!1||this.enableZoom===!1||this.state!==ae.NONE||(t.preventDefault(),this.dispatchEvent(Ts),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(Oa))}function Vu(t){this.enabled!==!1&&this._handleKeyDown(t)}function Xu(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case Xe.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=ae.TOUCH_ROTATE;break;case Xe.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=ae.TOUCH_PAN;break;default:this.state=ae.NONE}break;case 2:switch(this.touches.TWO){case Xe.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=ae.TOUCH_DOLLY_PAN;break;case Xe.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=ae.TOUCH_DOLLY_ROTATE;break;default:this.state=ae.NONE}break;default:this.state=ae.NONE}this.state!==ae.NONE&&this.dispatchEvent(Ts)}function qu(t){switch(this._trackPointer(t),this.state){case ae.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case ae.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case ae.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case ae.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=ae.NONE}}function Qu(t){this.enabled!==!1&&t.preventDefault()}function Ju(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function ed(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const td={key:0,class:"measure-tip"},sd={key:1,class:"fullscreen-controls"},nd={key:3,class:"line-info-panel"},ad={class:"line-info-header"},od={class:"line-info-content"},id={class:"info-item"},rd={class:"value"},ld={class:"info-item"},cd={class:"value"},ud={class:"info-item"},dd={class:"value"},hd={class:"info-item"},fd={class:"value"},pd={class:"info-item"},md={class:"value"},Rn=50,vd=10,gd=100,bd=-.2,as=2.5,In=1,_d=200,xt=5,yd={__name:"AutoThreeScene",props:{begin:Boolean,metaData:Object,modelData:Array,pointData:Array},emits:["enter-fullscreen","exit-fullscreen"],setup(t,{emit:e}){const s=t,n={BLOCK_SIZE:500,RENDER_RADIUS:2,CACHE_TIME:6e4,POINT_SIZE:.5,POINT_COLOR:65280,LINE_COLOR:255,LINE_SELECT_COLOR:16776960,LINE_SELECT_WIDTH:3,LINE_SELECT_OPACITY:1,DANGER_COLOR:16711680,DANGER_LINE_WIDTH:2},a=new Ws;a.params.Line.threshold=2.5;const o=new ke;let l=null,h=new WeakMap,_=null,E=!1;const $=new ct({color:16776960}),S=new kt({color:n.LINE_SELECT_COLOR,linewidth:n.LINE_SELECT_WIDTH,transparent:!0,opacity:n.LINE_SELECT_OPACITY}),T=new ct({color:n.DANGER_COLOR}),m=new kt({color:n.DANGER_COLOR,linewidth:n.DANGER_LINE_WIDTH,transparent:!0,opacity:1,depthTest:!1}),w=new ct({color:65535}),c=new ct({color:65488,metalness:.6,roughness:.2}),y=new kt({color:65488,linewidth:3,transparent:!0,opacity:1,depthTest:!1}),v=new Set([$,S,T,m,w,c,y]);let g=null,u=new Set,P=new Map;const z=new ue;let G=0;function re(){let r=0;for(const i of u){if(r>=gd)break;const p=P.get(i);if(p&&p.userData.dangerIcon){const k=p.userData.dangerIcon,O=M.position.distanceTo(k.getWorldPosition(z)),j=ls.degToRad(M.fov),V=2*Math.tan(j/2)*O,de=16/(K.domElement.height/V),fe=k.userData.baseScale||8,pe=Math.max(de,fe);k.scale.set(pe,pe,1),r++}}}new Vs(2,16,16);let b=[];const C=new Vs(.1,16,16);let B=[];const ne=N(null),I=N(null),F=N(!1),A=N(null),Z=N(null),R=N(!1),X=N([]),ye=N("正在测距");let U=null,M=null,K=null,W=null,le=null,_t=null,$e=null;class Gt{constructor(){this.chunks=new Map,this.lineChunks=new Map}getChunkKey(i,p){return`${Math.floor(i/n.BLOCK_SIZE)},${Math.floor(p/n.BLOCK_SIZE)}`}addPoint(i){const p=this.getChunkKey(i[0],i[2]);this.chunks.has(p)||this.chunks.set(p,[]),this.chunks.get(p).push(i)}addLine(i){if(!i.points||i.points.length<2)return;const p=i.points;let k=p[0][0],O=p[0][0],j=p[0][1],V=p[0][1];p.forEach(pe=>{k=Math.min(k,pe[0]),O=Math.max(O,pe[0]),j=Math.min(j,pe[1]),V=Math.max(V,pe[1])});const q=Math.floor(k/n.BLOCK_SIZE),ve=Math.floor(O/n.BLOCK_SIZE),de=Math.floor(j/n.BLOCK_SIZE),fe=Math.floor(V/n.BLOCK_SIZE);for(let pe=q;pe<=ve;pe++)for(let Me=de;Me<=fe;Me++){const je=`${pe},${Me}`;this.lineChunks.has(je)||this.lineChunks.set(je,[]),this.lineChunks.get(je).push(i)}}getChunk(i,p){const k=this.getChunkKey(i,p);return this.chunks.get(k)||[]}getLineChunk(i,p){const k=this.getChunkKey(i,p);return this.lineChunks.get(k)||[]}clear(){this.chunks.clear(),this.lineChunks.clear()}}class Ae{constructor(){this.cache=new Map,this.activeMeshes=new Set,this.lastUpdate=0}updateView(i){const p=Math.floor(i.x/n.BLOCK_SIZE),k=Math.floor(i.z/n.BLOCK_SIZE),O=new Set;for(let j=-2;j<=n.RENDER_RADIUS;j++)for(let V=-2;V<=n.RENDER_RADIUS;V++){const q=`${p+j},${k+V}`;O.add(q),this.cache.has(q)?this.cache.get(q).lastUsed=Date.now():this.loadChunk(q)}this.ensureDangerObjectsRendered(),this.clearUnusedChunks(O)}loadChunk(i){const p=parseInt(i.split(",")[0]),k=parseInt(i.split(",")[1]),O=Fe.getChunk(p*n.BLOCK_SIZE+n.BLOCK_SIZE/2,k*n.BLOCK_SIZE+n.BLOCK_SIZE/2),j=Fe.getLineChunk(p*n.BLOCK_SIZE+n.BLOCK_SIZE/2,k*n.BLOCK_SIZE+n.BLOCK_SIZE/2);if(O.length===0&&j.length===0)return;let V=null;if(O.length>0){const ve=new Dt,de=new Float32Array(O.length*3);O.forEach((pe,Me)=>{de[Me*3]=pe[0],de[Me*3+1]=pe[1],de[Me*3+2]=pe[2]}),ve.setAttribute("position",new qt(de,3));const fe=new Xt({color:n.POINT_COLOR,size:n.POINT_SIZE,transparent:!0,opacity:1,sizeAttenuation:!1});V=new Xs(ve,fe),U.add(V)}let q=null;j.length>0&&(q=new si,j.forEach(ve=>{const de=Za(ve);de&&q.add(de)}),U.add(q)),this.cache.set(i,{mesh:V,lineGroup:q,lastUsed:Date.now()}),V&&this.activeMeshes.add(V),q&&this.activeMeshes.add(q)}clearUnusedChunks(i){this.cache.forEach((p,k)=>{const O=j=>j&&u.has(j.uuid);(!i.has(k)||Date.now()-p.lastUsed>n.CACHE_TIME)&&(p.mesh&&!O(p.mesh)&&(U.remove(p.mesh),He(p.mesh),this.activeMeshes.delete(p.mesh)),p.lineGroup&&(p.lineGroup.children.forEach(j=>{O(j)||(U.remove(j),He(j))}),this.activeMeshes.delete(p.lineGroup)),this.cache.delete(k))})}chunkHasDangerObjects(i){if(!i)return!1;if(i.mesh&&i.mesh.children){for(let p of i.mesh.children)if(u.has(p.uuid))return!0}if(i.lineGroup&&i.lineGroup.children){for(let p of i.lineGroup.children)if(u.has(p.uuid))return!0}return!1}dispose(){this.cache.forEach((i,p)=>{i.mesh&&(U.remove(i.mesh),He(i.mesh)),i.lineGroup&&(U.remove(i.lineGroup),i.lineGroup.children.forEach(k=>{He(k)}))}),this.cache.clear(),this.activeMeshes.clear()}ensureDangerObjectsRendered(){u.forEach(i=>{const p=P.get(i);p&&!U.children.includes(p)&&U.add(p)})}}const Fe=new Gt,Ke=new Ae;Ce(()=>s.pointData,r=>{r&&(r.forEach(i=>{Fe.addPoint([i[0],i[2],i[1]])}),M&&Ke.updateView(M.position))},{immediate:!0}),Ce(()=>s.modelData,r=>{!r||!Array.isArray(r)||r.length===0||(r.forEach(i=>{i&&i.points&&Fe.addLine(i)}),M&&Ke.updateView(M.position))},{immediate:!0});const Cs=e;function Ra(){setInterval(()=>{console.log("相机位置: "),console.log(M.position),console.log("区块管理器"),console.log(Fe.chunks),console.log(Fe.lineChunks),console.log("缓存管理器"),console.log(Ke.cache),console.log("危险物品"),console.log(u),console.log("危险物品映射"),console.log(P)},5e3)}function Ps(){R.value=!1,X.value=[],ye.value="正在测距",Wt(),Vt()}function yt(r){Ps(),A.value=r,to(),U?Ba(r):(Ra(),Fa(),ja(),Ua(),$s(),xs()),we.success(`已切换到${r}模式`)}pt(()=>{window.addEventListener("resize",rt),document.addEventListener("fullscreenchange",Re),document.addEventListener("webkitfullscreenchange",Re),document.addEventListener("mozfullscreenchange",Re),document.addEventListener("MSFullscreenChange",Re)}),Mt(()=>{window.removeEventListener("resize",rt),document.removeEventListener("fullscreenchange",Re),document.removeEventListener("webkitfullscreenchange",Re),document.removeEventListener("mozfullscreenchange",Re),document.removeEventListener("MSFullscreenChange",Re)});let wt=!1,Et=!1,St=!1,Tt=!1,Zt=!1,Yt=!1;function ks(r){switch(r.code){case"ArrowUp":case"KeyW":wt=!0;break;case"ArrowDown":case"KeyS":Et=!0;break;case"KeyA":St=!0;break;case"KeyD":Tt=!0;break;case"Space":A.value==="第一人称"?!it&&Rs()&&(ot=Ia,it=!0):A.value==="飞行模式"&&(Zt=!0);break;case"KeyR":M&&(M.position.set(0,100,0),M.lookAt(0,0,0));break;case"KeyQ":no();break;case"ShiftLeft":A.value==="飞行模式"&&(Yt=!0);break;case"Escape":W&&W.isLocked&&W.unlock();break}}function Ds(r){switch(r.code){case"ArrowUp":case"KeyW":wt=!1;break;case"ArrowDown":case"KeyS":Et=!1;break;case"KeyA":St=!1;break;case"KeyD":Tt=!1;break;case"Space":A.value==="飞行模式"&&(Zt=!1);break;case"ShiftLeft":A.value==="飞行模式"&&(Yt=!1);break}}let ot=0,it=!1,he=30,Ia=5;function Na(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),F.value=!1,rt(),Cs("exit-fullscreen"),Ps()}function rt(){if(!K||!M||!I.value)return;const r=I.value.clientWidth,i=I.value.clientHeight;K.setSize(r,i,!1),K.domElement.style.width=r+"px",K.domElement.style.height=i+"px",M.isPerspectiveCamera&&(M.aspect=r/i,M.updateProjectionMatrix())}function $s(){if(M)switch(A.value){case"上帝视角":M.position.set(0,200,150),M.far=1e10,M.updateProjectionMatrix(),M.lookAt(0,0,0);break;case"飞行模式":M.position.set(0,10,0);break;case"第一人称":M.position.set(0,50,50),M.rotation.x=-Math.PI/3,M.rotation.y=0,M.rotation.z=0;break}}function Fa(){U=new ni,U.background=new ta(2106154);const r=new Qs(new ai(500,500),new ct({color:2764345,roughness:.7,metalness:.2}));r.rotation.x=-Math.PI/2,r.receiveShadow=!0,U.add(r);const i=new oi(500,50,46300,4475479);U.add(i);const p=new ii(46300,.5);U.add(p);const k=new ri(16777215,1);k.position.set(100,100,100),U.add(k)}function ja(){if(!I.value)return;K&&(K.domElement&&K.domElement.parentNode&&K.domElement.parentNode.removeChild(K.domElement),K.dispose(),K=null),_&&(As(_),_=null);const r=I.value.clientWidth,i=I.value.clientHeight;M=new li(75,r/i,.1,1e4),K=new ci({antialias:!0}),K.setSize(r,i,!1),K.domElement.style.width=r+"px",K.domElement.style.height=i+"px",I.value.appendChild(K.domElement),g=new Mu(K,{defaultThickness:.005,defaultColor:[0,1,1],defaultAlpha:1,defaultKeepAlive:!0}),$s(),so()}function Ua(){!M||!K||E||(_&&As(_),K.domElement.addEventListener("mousedown",Ms),_=K.domElement,document.addEventListener("keydown",ks),document.addEventListener("keyup",Ds),W=new Nu(M,K.domElement),W.addEventListener("lock",()=>{console.log("PointerLockControls: 锁定成功")}),W.addEventListener("unlock",()=>{console.log("PointerLockControls: 锁定释放")}),le=new zu(M,K.domElement),le.enableDamping=!0,le.dampingFactor=.05,le.screenSpacePanning=!1,le.minDistance=10,le.maxDistance=1e4,E=!0)}function As(r){r&&r.removeEventListener("mousedown",Ms)}function Ba(r){switch(W&&W.disconnect(),le&&(le.disabled=!0),r){case"第一人称":W&&(W.connect(),Us()),le&&(le.enableZoom=!1);break;case"上帝视角":le&&(le.disabled=!1,le.update(),le.enableZoom=!0);break;case"飞行模式":W&&(W.connect(),Us()),le&&(le.enableZoom=!1);break}}function xs(){if(!js||Fs)return;if(requestAnimationFrame(xs),le&&A.value==="上帝视角"&&le.update(),M){const i=Xa(M);i!==_t&&(Ke.updateView(M.position),_t=i)}if(A.value==="第一人称"&&W&&W.isLocked){const i=new ue;W.getDirection(i);const p=new ue().crossVectors(M.up,i).normalize();let k=new ue;if(wt){let O=i.clone();O.y=0,O.normalize(),k.add(O)}if(Et){let O=i.clone();O.y=0,O.normalize(),k.sub(O)}St&&k.add(p),Tt&&k.sub(p),k.length()>0&&(k.normalize(),W.object.position.add(k.multiplyScalar(he*.01))),Rs()?(it&&(ot=0,it=!1),W.object.position.y=as):(ot+=bd,W.object.position.y+=ot*.1,W.object.position.y<as&&(W.object.position.y=as,ot=0,it=!1))}if(A.value==="飞行模式"&&W&&W.isLocked){const i=new ue;W.getDirection(i);const p=new ue().crossVectors(M.up,i).normalize();if(wt){const k=i.clone();k.y=0,k.normalize(),W.object.position.add(k.multiplyScalar(he*.01))}if(Et){const k=i.clone();k.y=0,k.normalize(),W.object.position.sub(k.multiplyScalar(he*.01))}St&&W.object.position.add(p.clone().multiplyScalar(he*.01)),Tt&&W.object.position.sub(p.clone().multiplyScalar(he*.01)),Zt&&(W.object.position.y+=he*.01),Yt&&(W.object.position.y-=he*.01)}g&&U&&M?g.render(U,M):K&&U&&M&&K.render(U,M);const r=24;B&&M&&K&&B.forEach(i=>{if(i instanceof Qt&&i.userData&&i.userData.isDistanceLabel){const p=M.position.distanceTo(i.position),k=ls.degToRad(M.fov),j=K.domElement.height/(2*Math.tan(k/2)*p),V=r/j;let q=4;i.material&&i.material.map&&i.material.map.image&&(q=i.material.map.image.width/i.material.map.image.height),i.scale.set(V*q,V,1)}}),G++,G%vd===0&&re()}function za(r){if(!r||!r.userData||r.userData.type!=="line")return;const i=r.userData;let p=0;for(let j=1;j<i.points.length;j++){const V=new ue(...i.points[j-1]),q=new ue(...i.points[j]);p+=V.distanceTo(q)}const k=j=>`(${j[0].toFixed(2)}, ${j[1].toFixed(2)}, ${j[2].toFixed(2)})`,O="#"+i.color.toString(16).padStart(6,"0");Z.value={startPoint:k(i.startPoint),endPoint:k(i.endPoint),length:p.toFixed(2)+" 单位",colorHex:O,pointCount:i.pointCount+" 个点",originalData:i.originalData},Qa(r)}function lt(){Z.value=null,Ct()}function Ls(){if(l){if(u.has(l.uuid)){l=null,lt();return}if(h&&h.has(l)&&l.material)try{u.has(l.uuid)?l.userData&&l.userData.type==="line"?l.material=m:l.material=T:l.material=h.get(l)}catch(r){console.warn("恢复材质时出错:",r)}l=null}lt(),Ct()}function Ms(r){if(!(A.value!=="第一人称"&&A.value!=="飞行模式")){if(r.button===0){if(console.log("左键点击"),R.value){const p=K.domElement.getBoundingClientRect();o.x=(r.clientX-p.left)/p.width*2-1,o.y=-((r.clientY-p.top)/p.height)*2+1,a.setFromCamera(o,M);const k=a.intersectObjects(U.children,!0);Ya(k);return}const i=qa(r,3,24);if(Ls(),i){const p=i.object;l=p,p.userData&&p.userData.type==="line"?za(p):lt(),h.has(p)||h.set(p,p.material),p.type==="Line"?u.has(p.uuid)?p.material=m:p.material=S:p.material=$}else console.log("左键点击没有检测到有效对象"),lt()}else if(r.button===2){console.log("右键点击"),r.preventDefault();const i=K.domElement.getBoundingClientRect();o.x=(r.clientX-i.left)/i.width*2-1,o.y=-((r.clientY-i.top)/i.height)*2+1,a.setFromCamera(o,M);const p=a.intersectObjects(U.children,!0);if(p.length>0&&p[0].distance<=Rn){const k=p[0].object;k.userData&&k.userData.type==="line"&&Ka(k)}}}}function Ka(r){u.has(r.uuid)?(Os(r),console.log("取消危险标注:",r)):(Ga(r),console.log("添加危险标注:",r))}new Xt({color:60159,size:1.2,transparent:!0,opacity:.95,sizeAttenuation:!0});function Ha(){const i=document.createElement("canvas");i.width=i.height=64;const p=i.getContext("2d");p.clearRect(0,0,64,64),p.font="bold 54px sans-serif",p.textAlign="center",p.textBaseline="middle",p.fillStyle="#ff2222",p.fillText("⚠",64/2,64/2+4);const k=new Js(i),O=new en({map:k,depthTest:!1}),j=new Qt(O);return j.scale.set(10,10,1),j.userData.baseScale=j.scale.x,j.renderOrder=1e3,j}function Ga(r){if(h.has(r)||h.set(r,r.material),r.material=m,r.renderOrder=999,u.add(r.uuid),P.set(r.uuid,r),!r.userData.dangerIcon){const i=Ha(),p=r.geometry.attributes.position,k=Math.floor(p.count/2),O=new ue(p.getX(k),p.getY(k),p.getZ(k));i.position.copy(O),i.renderOrder=1e3,i.material&&(i.material.depthTest=!1),r.add(i),r.userData.dangerIcon=i}Ke.ensureDangerObjectsRendered(),we.success("已标注为危险物品")}function Os(r){h.has(r)&&(r.material=h.get(r),r.renderOrder=0),u.delete(r.uuid),P.delete(r.uuid),r.userData.dangerIcon&&(r.remove(r.userData.dangerIcon),r.userData.dangerIcon.material.map.dispose(),r.userData.dangerIcon.material.dispose(),r.userData.dangerIcon=null),we.info("已取消危险标注")}function Rs(){if(!W||!W.object||!U)return!1;const r=new Ws,i=W.object.position.clone();i.y+=.1;const p=new ue(0,-1,0);return r.set(i,p),r.intersectObjects(U.children,!0).some(O=>O.distance<.5)}Mt(()=>{if(Ke.dispose(),Fe.clear(),K&&(K.domElement&&K.domElement.parentNode&&K.domElement.parentNode.removeChild(K.domElement),K.dispose(),K=null),W&&(W.disconnect(),W=null),le&&(le.disconnect(),le=null),U)for(;U.children.length>0;){const r=U.children[0];He(r),U.remove(r)}Ls(),h=new WeakMap,h=null,Va(),Wt(),Vt(),Ct(),document.removeEventListener("keydown",ks),document.removeEventListener("keyup",Ds),E=!1});function Za(r){if(!r.points||r.points.length<2)return console.warn("无效的线数据:",r),null;const i=r.points,p={color:n.LINE_COLOR,...r},k=new Dt,O=new Float32Array(i.length*3);i.forEach((q,ve)=>{O[ve*3]=q[0],O[ve*3+1]=q[2],O[ve*3+2]=q[1]}),k.setAttribute("position",new qt(O,3));const j=new kt({color:p.color||46300,linewidth:2,transparent:!0,opacity:.85}),V=new qs(k,j);return V.userData={type:"line",originalData:r,points:i,startPoint:i[0],endPoint:i[i.length-1],color:p.color,pointCount:i.length},V}function Ya(r){const i=r.find(O=>O.object.userData&&O.object.userData.type==="line");if(!i)return;const p=i.point;X.value.push(p.clone());const k=new Qs(C,c);if(k.position.copy(p),U.add(k),B.push(k),X.value.length===2){const O=X.value[0],j=X.value[1],V=new Dt().setFromPoints([O,j]),q=new qs(V,y);U.add(q),B.push(q);const ve=O.distanceTo(j),de=new ue().addVectors(O,j).multiplyScalar(.5),fe=Wa(ve.toFixed(2)+" 单位");fe.position.copy(de),U.add(fe),B.push(fe),R.value=!1,X.value=[],ye.value="测距完成"}else X.value.length===1&&(ye.value="请点击第二个点")}function Wt(){b.forEach(r=>{U.remove(r),He(r)}),b=[]}function Wa(r){const i=document.createElement("canvas");i.width=320,i.height=80;const p=i.getContext("2d"),k=p.createLinearGradient(0,0,i.width,0);k.addColorStop(0,"#00ffd0"),k.addColorStop(1,"#00b4dc"),p.font='bold 60px "Segoe UI", "Roboto", Arial, sans-serif',p.fillStyle=k,p.textAlign="center",p.textBaseline="middle",p.strokeStyle="#222",p.lineWidth=6,p.strokeText(r,i.width/2,i.height/2),p.fillText(r,i.width/2,i.height/2);const O=new Js(i),j=new en({map:O,depthTest:!1,transparent:!0}),V=new Qt(j);return V.scale.set(14,3.5,1),V.userData.isDistanceLabel=!0,V}function Vt(){B.forEach(r=>{r.geometry&&(r.geometry.dispose(),r.geometry=null),r.material&&(r.material.dispose(),r.material=null),r.userData.dangerIcon&&(r.remove(r.userData.dangerIcon),r.userData.dangerIcon.material.map.dispose(),r.userData.dangerIcon.material.dispose(),r.userData.dangerIcon=null),r.userData.distanceText&&(r.remove(r.userData.distanceText),r.userData.distanceText.material.map.dispose(),r.userData.distanceText.material.dispose(),r.userData.distanceText=null),U.remove(r)}),B=[]}function Va(){u.forEach(r=>{const i=P.get(r);i&&Os(i)}),u.clear(),P.clear()}function He(r){r&&(r.geometry&&!r.geometry.__disposed&&(r.geometry.dispose(),r.geometry.__disposed=!0),r.material&&!r.material.__disposed&&!v.has(r.material)&&(r.material.dispose(),r.material.__disposed=!0))}function Is(r){F.value&&(r.key==="Control"?R.value?(R.value=!1,X.value=[],Wt(),Vt()):(R.value=!0,X.value=[],ye.value="正在测距"):r.code==="ShiftRight"?M&&(M.position.set(0,100,0),M.lookAt(0,0,0)):r.code==="ArrowUp"?(he=he+xt,we.success(`移动速度提升到 ${he}`)):r.code==="ArrowDown"&&(he=Math.max(he-xt,In),we.info(`移动速度降低到 ${he}`)))}function Ns(r){F.value&&(A.value!=="第一人称"&&A.value!=="飞行模式"||(r.preventDefault(),r.deltaY<0?(he=Math.min(he+xt,_d),we.success(`移动速度提升到 ${he}`)):r.deltaY>0&&(he=Math.max(he-xt,In),we.info(`移动速度降低到 ${he}`))))}pt(()=>{window.addEventListener("keydown",Is),window.addEventListener("wheel",Ns,{passive:!1})}),Mt(()=>{window.removeEventListener("keydown",Is),window.removeEventListener("wheel",Ns)});function Xa(r){if(!r)return null;const i=r.position.x,p=r.position.z;return`${Math.floor(i/n.BLOCK_SIZE)},${Math.floor(p/n.BLOCK_SIZE)}`}function qa(r,i=2,p=16){if(!K||!M||!U)return null;const k=K.domElement.getBoundingClientRect(),O={x:(r.clientX-k.left)/k.width*2-1,y:-((r.clientY-k.top)/k.height)*2+1},j=M.position.clone(),V=new ue;V.set(O.x,O.y,.5).unproject(M).sub(j).normalize();const q=[],ve=[V.clone()];for(let de=0;de<p;de++){const fe=2*Math.PI*de/p,pe=i*Math.PI/180*Math.random(),Me=new ue().crossVectors(V,new ue(0,1,0)).normalize(),je=V.clone();je.applyAxisAngle(Me,pe),je.applyAxisAngle(V,fe),ve.push(je)}for(const de of ve){a.set(j,de);const fe=a.intersectObjects(U.children,!0);if(fe.length>0&&fe[0].distance<=Rn){const pe=de.angleTo(V);q.push({...fe[0],_angle:pe})}}return q.length===0?null:(q.sort((de,fe)=>de._angle!==fe._angle?de._angle-fe._angle:de.distance-fe.distance),q[0])}function Qa(r){if(Ct(),!r||!r.userData||!r.userData.originalData)return;const i=r.userData.originalData;if(!i.source_data||!Array.isArray(i.source_data.original_points))return;const p=i.source_data.original_points;if(p.length===0)return;const k=new Dt,O=new Float32Array(p.length*3);p.forEach((V,q)=>{O[q*3]=V[0],O[q*3+1]=V[2],O[q*3+2]=V[1]}),k.setAttribute("position",new qt(O,3));const j=new Xt({color:16746496,size:.03,transparent:!0,opacity:.85,sizeAttenuation:!0});$e=new Xs(k,j),U.add($e)}function Ct(){$e&&(U.remove($e),$e.geometry&&$e.geometry.dispose(),$e.material&&$e.material.dispose(),$e=null)}let Fs=!1,js=!0;async function Ja(){try{K.domElement.requestPointerLock()}catch(r){console.warn("Pointer lock request failed:",r)}}async function eo(){try{ne.value.requestFullscreen?await ne.value.requestFullscreen():ne.value.mozRequestFullScreen?await ne.value.mozRequestFullScreen():ne.value.webkitRequestFullscreen?await ne.value.webkitRequestFullscreen():ne.value.msRequestFullscreen&&await ne.value.msRequestFullscreen()}catch(r){console.warn("Fullscreen request failed:",r)}}function to(){eo(),F.value=!0,rt(),Cs("enter-fullscreen")}function Us(){Ja()}function Re(){const r=F.value;F.value=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement),r!==F.value&&setTimeout(()=>{rt()},100),F.value}function so(){K&&K.domElement&&K.domElement.addEventListener("webglcontextlost",r=>{r.preventDefault(),Fs=!0,js=!1,we.error("WebGL上下文丢失，页面需要刷新才能恢复。")})}function no(){const r=["上帝视角","飞行模式","第一人称"];let i=r.indexOf(A.value);i=(i+1)%r.length,yt(r[i])}return(r,i)=>{const p=Ca,k=Te;return D(),L("div",{class:"auto-three-scene",ref_key:"container",ref:ne},[F.value&&R.value?(D(),L("div",td,te(ye.value),1)):Y("",!0),x(p,{style:{"justify-content":"center"},direction:"horizontal"},{default:Q(()=>[x(Pt,{disabled:s.begin,onClick:i[0]||(i[0]=O=>yt("上帝视角"))},{default:Q(()=>i[3]||(i[3]=[De("上帝视角 ")])),_:1,__:[3]},8,["disabled"]),x(Pt,{disabled:s.begin,onClick:i[1]||(i[1]=O=>yt("飞行模式"))},{default:Q(()=>i[4]||(i[4]=[De("飞行模式 ")])),_:1,__:[4]},8,["disabled"]),x(Pt,{disabled:s.begin,onClick:i[2]||(i[2]=O=>yt("第一人称"))},{default:Q(()=>i[5]||(i[5]=[De("第一人称 ")])),_:1,__:[5]},8,["disabled"])]),_:1}),d("div",{id:"three-container",ref_key:"threeContainer",ref:I},null,512),F.value?(D(),L("div",sd,[x(Pt,{onClick:Na},{default:Q(()=>[x(k,null,{default:Q(()=>[x(f(mt))]),_:1}),i[6]||(i[6]=De(" 退出全屏 "))]),_:1,__:[6]})])):Y("",!0),F.value&&(A.value==="第一人称"||A.value==="飞行模式")?(D(),Se(k,{key:2,size:"28",color:"white",class:"crosshair"},{default:Q(()=>[x(f(Yn))]),_:1})):Y("",!0),F.value&&Z.value?(D(),L("div",nd,[d("div",ad,[i[7]||(i[7]=d("span",null,"线信息",-1)),x(k,{onClick:lt,class:"close-icon"},{default:Q(()=>[x(f(mt))]),_:1})]),d("div",od,[d("div",id,[i[8]||(i[8]=d("span",{class:"label"},"起点:",-1)),d("span",rd,te(Z.value.startPoint),1)]),d("div",ld,[i[9]||(i[9]=d("span",{class:"label"},"终点:",-1)),d("span",cd,te(Z.value.endPoint),1)]),d("div",ud,[i[10]||(i[10]=d("span",{class:"label"},"总长度:",-1)),d("span",dd,te(Z.value.length),1)]),d("div",hd,[i[11]||(i[11]=d("span",{class:"label"},"点数量:",-1)),d("span",fd,te(Z.value.pointCount),1)]),d("div",pd,[i[12]||(i[12]=d("span",{class:"label"},"颜色:",-1)),d("span",md,[d("div",{class:"color-preview",style:be({backgroundColor:Z.value.colorHex})},null,4),De(" "+te(Z.value.colorHex),1)])])])])):Y("",!0)],512)}}},wd=ze(yd,[["__scopeId","data-v-6cc28d25"]]),Ed={class:"cyber-pair-data-container"},Sd={key:0,class:"table-wrapper"},Td={class:"table-container"},Cd={class:"table-body"},Pd=["title"],kd=["title"],Dd={key:1,class:"empty-state"},$d={key:2,class:"data-stats"},Ad={class:"stat-item"},xd={class:"stat-value"},Ld={__name:"PairDataTable",props:{pairData:Object},setup(t){const e=t,s=N([]);return Ce(()=>e.pairData,n=>{n?s.value=Object.keys(n).map(a=>({key:a,value:n[a]})):s.value=[]},{immediate:!0}),(n,a)=>(D(),L("div",Ed,[a[3]||(a[3]=Ve('<div class="cyber-border" data-v-d30e903f><div class="border-corner top-left" data-v-d30e903f></div><div class="border-corner top-right" data-v-d30e903f></div><div class="border-corner bottom-left" data-v-d30e903f></div><div class="border-corner bottom-right" data-v-d30e903f></div></div><div class="cyber-header" data-v-d30e903f><div class="header-line" data-v-d30e903f></div><h3 class="header-title" data-v-d30e903f>数据属性</h3><div class="header-line" data-v-d30e903f></div></div>',2)),s.value.length>0?(D(),L("div",Sd,[d("div",Td,[a[0]||(a[0]=d("div",{class:"table-header"},[d("div",{class:"header-row"},[d("div",{class:"header-cell"},"属性"),d("div",{class:"header-cell"},"值")])],-1)),d("div",Cd,[(D(!0),L(Ye,null,We(s.value,(o,l)=>(D(),L("div",{key:l,class:H(["table-row",{"row-striped":l%2===1}])},[d("div",{class:"table-cell key-cell",title:o.key},te(o.key),9,Pd),d("div",{class:"table-cell value-cell",title:o.value},te(o.value),9,kd)],2))),128))])])])):Y("",!0),s.value.length===0?(D(),L("div",Dd,a[1]||(a[1]=[d("div",{class:"empty-icon"},"📋",-1),d("div",{class:"empty-text"},"暂无数据",-1)]))):Y("",!0),s.value.length>0?(D(),L("div",$d,[d("div",Ad,[a[2]||(a[2]=d("span",{class:"stat-label"},"总属性",-1)),d("span",xd,te(s.value.length),1)])])):Y("",!0)]))}},Nn=ze(Ld,[["__scopeId","data-v-d30e903f"]]),Md={class:"cyber-point-data-container"},Od={key:0,class:"data-stats"},Rd={class:"stat-item"},Id={class:"stat-value"},Nd={class:"stat-item"},Fd={class:"stat-value"},jd={class:"stat-item"},Ud={class:"stat-value"},Bd={key:1,class:"table-wrapper"},zd={class:"table-container"},Kd={class:"table-header"},Hd={class:"header-row"},Gd={class:"table-body"},Zd=["title"],Yd={key:2,class:"empty-state"},Wd={key:3,class:"pagination-wrapper"},Vd={class:"pagination-info"},Xd={class:"info-text"},qd={class:"pagination-controls"},Qd={class:"page-size-selector"},Jd={class:"pagination-buttons"},eh=["disabled"],th=["disabled"],sh={class:"page-numbers"},nh=["onClick"],ah={key:0,class:"ellipsis"},oh={key:1,class:"ellipsis"},ih=["disabled"],rh=["disabled"],lh={key:4,class:"scroll-hint"},ch={__name:"PointDataTable",props:{pointData:Array,pageSize:{type:Number,default:20}},setup(t){const e=t,s=N([]),n=N([]),a=N(1),o=N(e.pageSize),l=ee(()=>{const g=(a.value-1)*o.value,u=g+o.value;return s.value.slice(g,u)}),h=ee(()=>Math.ceil(s.value.length/o.value)),_=ee(()=>{const g=(a.value-1)*o.value+1,u=Math.min(a.value*o.value,s.value.length);return{start:g,end:u}}),E=g=>{a.value=g},$=g=>{o.value=g,a.value=1},S=()=>{a.value=1},T=()=>{a.value=h.value},m=()=>{a.value>1&&a.value--},w=()=>{a.value<h.value&&a.value++};Ce(()=>e.pointData,g=>{g&&g.length>0?(n.value=Object.keys(g[0]),s.value=g,a.value=1):(n.value=[],s.value=[],a.value=1)},{immediate:!0}),Ce(()=>e.pageSize,g=>{o.value=g,a.value=1});const c=()=>{const g=[];if(h.value<=5)for(let P=1;P<=h.value;P++)g.push(P);else{let P=Math.max(1,a.value-Math.floor(2.5)),z=Math.min(h.value,P+5-1);z-P+1<5&&(P=Math.max(1,z-5+1));for(let G=P;G<=z;G++)g.push(G)}return g},y=()=>c()[0]>1,v=()=>{const g=c();return g[g.length-1]<h.value};return(g,u)=>(D(),L("div",Md,[u[9]||(u[9]=Ve('<div class="cyber-border" data-v-4ca72710><div class="border-line border-top" data-v-4ca72710></div><div class="border-line border-right" data-v-4ca72710></div><div class="border-line border-bottom" data-v-4ca72710></div><div class="border-line border-left" data-v-4ca72710></div></div><div class="cyber-header" data-v-4ca72710><div class="header-line" data-v-4ca72710></div><h3 class="header-title" data-v-4ca72710>点云数据</h3><div class="header-line" data-v-4ca72710></div></div>',2)),s.value.length>0?(D(),L("div",Od,[d("div",Rd,[u[2]||(u[2]=d("span",{class:"stat-label"},"总点数",-1)),d("span",Id,te(s.value.length),1)]),d("div",Nd,[u[3]||(u[3]=d("span",{class:"stat-label"},"维度",-1)),d("span",Fd,te(n.value.length),1)]),d("div",jd,[u[4]||(u[4]=d("span",{class:"stat-label"},"当前页",-1)),d("span",Ud,te(_.value.start)+"-"+te(_.value.end),1)])])):Y("",!0),s.value.length>0?(D(),L("div",Bd,[d("div",zd,[d("div",Kd,[d("div",Hd,[(D(!0),L(Ye,null,We(n.value,P=>(D(),L("div",{key:P,class:"header-cell"},te(P),1))),128))])]),d("div",Gd,[(D(!0),L(Ye,null,We(l.value,(P,z)=>(D(),L("div",{key:z,class:H(["table-row",{"row-striped":z%2===1}])},[(D(!0),L(Ye,null,We(n.value,G=>(D(),L("div",{key:G,class:"table-cell",title:P[G]},te(P[G]),9,Zd))),128))],2))),128))])])])):Y("",!0),s.value.length===0?(D(),L("div",Yd,u[5]||(u[5]=[d("div",{class:"empty-icon"},"📊",-1),d("div",{class:"empty-text"},"暂无点数据",-1)]))):Y("",!0),s.value.length>0?(D(),L("div",Wd,[d("div",Vd,[d("span",Xd," 显示第 "+te(_.value.start)+"-"+te(_.value.end)+" 条，共 "+te(s.value.length)+" 条数据 ",1)]),d("div",qd,[d("div",Qd,[u[7]||(u[7]=d("span",{class:"size-label"},"每页显示：",-1)),qn(d("select",{"onUpdate:modelValue":u[0]||(u[0]=P=>o.value=P),onChange:u[1]||(u[1]=P=>$(o.value)),class:"size-select"},u[6]||(u[6]=[d("option",{value:"10"},"10",-1),d("option",{value:"20"},"20",-1),d("option",{value:"50"},"50",-1),d("option",{value:"100"},"100",-1)]),544),[[Uo,o.value]])]),d("div",Jd,[d("button",{onClick:S,disabled:a.value===1,class:"page-btn",title:"第一页"}," « ",8,eh),d("button",{onClick:m,disabled:a.value===1,class:"page-btn",title:"上一页"}," ‹ ",8,th),d("div",sh,[(D(!0),L(Ye,null,We(c(),P=>(D(),L("button",{key:P,onClick:z=>E(P),class:H(["page-btn",{active:P===a.value}])},te(P),11,nh))),128)),y()?(D(),L("span",ah,"...")):Y("",!0),v()?(D(),L("span",oh,"...")):Y("",!0)]),d("button",{onClick:w,disabled:a.value===h.value,class:"page-btn",title:"下一页"}," › ",8,ih),d("button",{onClick:T,disabled:a.value===h.value,class:"page-btn",title:"最后一页"}," » ",8,rh)])])])):Y("",!0),s.value.length>10&&h.value<=1?(D(),L("div",lh,u[8]||(u[8]=[d("div",{class:"hint-icon"},"↕",-1),d("span",{class:"hint-text"},"滚动查看更多数据",-1)]))):Y("",!0)]))}},uh=ze(ch,[["__scopeId","data-v-4ca72710"]]),dh={class:"result-container"},hh={__name:"Result",props:{metaData:Object,modelData:Array,pointData:Array},setup(t){const e=t,s=N("MetaData");return(n,a)=>{const o=ou,l=au;return D(),L("div",dh,[x(l,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=h=>s.value=h),class:"result-tabs",tabPosition:"left"},{default:Q(()=>[x(o,{label:"元数据",name:"MetaData"},{default:Q(()=>[x(Nn,{"pair-data":e.metaData,class:"result-table"},null,8,["pair-data"])]),_:1}),x(o,{label:"建模数据",name:"ModelData"},{default:Q(()=>[x(Nn,{"pair-data":e.modelData,class:"result-table"},null,8,["pair-data"])]),_:1}),x(o,{label:"点数据",name:"PointData"},{default:Q(()=>[x(uh,{"point-data":e.pointData,class:"result-table"},null,8,["point-data"])]),_:1})]),_:1},8,["modelValue"])])}}},fh=ze(hh,[["__scopeId","data-v-27377846"]]),ph={class:"file-upload-container"},mh={class:"upload-content"},vh={class:"upload-actions"},gh={__name:"File",emits:["error","upload-success","point-data","line-data","meta-data"],setup(t,{emit:e}){const s=e,n=N([]),a=N(!1),o=N(!1),l=N(null),h=N(0),_=()=>{const y=`ws://${tn}/ws`;l.value=new WebSocket(y),l.value.onopen=()=>{console.log("websocket open"),h.value=0},l.value.onmessage=v=>{try{const g=JSON.parse(v.data);g.type==="complete"?$(g):g.type==="start"?E():g.type==="lines"?(s("line-data",g.curves),s("meta-data",g.metadata)):g.type==="points"&&s("point-data",g.coordinates)}catch(g){console.error("解析消息失败:",g)}},l.value.onerror=v=>{we.error(`连接错误: ${v.message||"未知错误"}`),console.log(`连接错误: ${v.message||"未知错误"}`),$(),o.value=!1,s("error",v)},l.value.onclose=()=>{console.log("websocket close"),o.value=!1}},E=()=>{console.log("upload success"),o.value=!0,h.value=0},$=()=>{l.value&&l.value.close(),S()},S=()=>{o.value=!1,h.value=0,n.value=[]},T=(y,v)=>{const g=localStorage.getItem("token"),u=localStorage.getItem("userName");if(!g||!u){window.location.href=`/login?redirect=${encodeURIComponent(window.location.pathname)}`;return}n.value=v},m=async y=>{await w(y)&&(n.value=n.value.filter(v=>v.uid!==y.uid),we.info(`文件 ${y.name} 已移除`))},w=async y=>{try{return await Ko.confirm(`确定删除 ${y.name} 吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消"}),!0}catch{return!1}},c=async()=>{const y=localStorage.getItem("token"),v=localStorage.getItem("userName");if(!y||!v){we.warning("请先登录后再上传文件"),window.location.href=`/login?redirect=${encodeURIComponent(window.location.pathname)}`;return}if(!n.value.length){we.warning("请先选择文件");return}a.value=!0;const g=n.value[0].raw,u=new FormData;u.append("file",g),u.append("userName",v),u.append("description",""),u.append("postParams","");try{_();const z=await(await fetch(`http://${tn}/api/file/upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`},body:u})).json();if(z.code===200){const G=document.createElement("a");G.href=z.data.processResult,G.download="拟合报告.html",G.click(),we.success("上传成功，等待分析..."),s("upload-success")}else we.error(z.message||"上传失败"),s("error",new Error(z.message||"上传失败"))}catch(P){we.error("网络错误: "+P.message),s("error",P)}finally{a.value=!1}};return Mt(()=>{l.value&&l.value.close()}),(y,v)=>{const g=Te,u=Du,P=Pa,z=zo,G=ya;return D(),L("div",ph,[x(G,{shadow:"hover",class:"upload-card"},{default:Q(()=>[x(u,{drag:"",limit:1,accept:".las,.zip","file-list":n.value,"auto-upload":!1,"on-change":T,"on-remove":m,class:"upload-area"},{default:Q(()=>[d("div",mh,[x(g,{class:"upload-icon"},{default:Q(()=>[x(f(Bo))]),_:1}),v[0]||(v[0]=d("div",{class:"upload-text"},[De(" 拖拽文件到此处或 "),d("em",null,"点击上传")],-1)),v[1]||(v[1]=d("div",{class:"upload-tip"},[De(" 支持上传 "),d("em",null,".las"),De(" 点云数据文件和 "),d("em",null,".zip"),De(" 压缩包 ")],-1))])]),_:1},8,["file-list"]),o.value?(D(),Se(P,{key:0,percentage:h.value,"stroke-width":4,"show-text":!1,class:"upload-progress"},null,8,["percentage"])):Y("",!0),d("div",vh,[x(z,{type:"primary",size:"large",loading:a.value||o.value,onClick:c,class:"submit-button"},{default:Q(()=>[De(te(o.value?"分析中":a.value?"上传中":"开始上传"),1)]),_:1},8,["loading"])])]),_:1})])}}},bh=ze(gh,[["__scopeId","data-v-961d3c9d"]]);class _h{constructor(){this.memoryInfo={used:0,total:0,limit:0,timestamp:Date.now()},this.monitoring=!1,this.interval=null}startMonitoring(e=5e3){this.monitoring||(this.monitoring=!0,this.interval=setInterval(()=>{this.updateMemoryInfo(),this.checkMemoryUsage()},e),console.log("MemoryMonitor: 开始监控内存使用情况"))}stopMonitoring(){this.interval&&(clearInterval(this.interval),this.interval=null),this.monitoring=!1,console.log("MemoryMonitor: 停止监控内存使用情况")}updateMemoryInfo(){performance.memory&&(this.memoryInfo={used:performance.memory.usedJSHeapSize,total:performance.memory.totalJSHeapSize,limit:performance.memory.jsHeapSizeLimit,timestamp:Date.now()})}checkMemoryUsage(){if(!performance.memory)return;const e=this.memoryInfo.used/this.memoryInfo.limit*100;e>80&&(console.warn(`MemoryMonitor: 内存使用率过高 (${e.toFixed(1)}%)`),this.emitMemoryWarning(e)),e>90&&(console.error(`MemoryMonitor: 内存使用率严重过高 (${e.toFixed(1)}%)`),this.emitMemoryCritical(e))}emitMemoryWarning(e){const s=new CustomEvent("memory-warning",{detail:{usagePercent:e,memoryInfo:this.memoryInfo}});window.dispatchEvent(s)}emitMemoryCritical(e){const s=new CustomEvent("memory-critical",{detail:{usagePercent:e,memoryInfo:this.memoryInfo}});window.dispatchEvent(s)}getMemoryInfo(){return this.updateMemoryInfo(),{...this.memoryInfo}}getMemoryUsagePercent(){return performance.memory?this.memoryInfo.used/this.memoryInfo.limit*100:0}forceGarbageCollection(){window.gc?(window.gc(),console.log("MemoryMonitor: 强制垃圾回收")):console.log("MemoryMonitor: 无法强制垃圾回收（需要 --expose-gc 标志）")}dispose(){this.stopMonitoring(),this.memoryInfo=null}}const ut=new _h,yh={class:"cyber-apps-view"},wh={class:"cyber-main"},Eh={class:"cyber-panel"},Sh={class:"panel-content"},Th={class:"apps-content"},Ch={class:"operation-section"},Ph={class:"operation-flex"},kh={class:"application-container"},Dh={class:"app-wrapper"},$h={key:0},Ah={class:"custom-guide-tip-btns"},xh=["disabled"],Lh={key:0,class:"custom-guide-tip-arrow"},Mh={__name:"AppsView",setup(t){Vo();const e=N({}),s=N([]),n=N([]),a=N("enabled"),o=N("disabled"),l=N("disabled"),h=N(null),_=N(null),E=N(null);function $(){a.value="success",o.value="enabled",l.value="enabled"}function S(){l.value="fail"}function T(Z){e.value=Z||{}}function m(Z){s.value=Z||[]}function w(Z){n.value=Z||[]}function c(){a.value="fail",l.value="fail"}const y=N(!1),v=N(0),g=[{ref:"featuresRef",tip:"这里是云电智绘的核心功能介绍，了解平台亮点。"},{ref:"fileCard",tip:"第一步：上传你的点云数据文件，支持拖拽或点击选择。"},{ref:"resultCard",tip:"第二步：这里会展示解析后的数据详情。"},{ref:"sceneCard",tip:"第三步：在这里可以交互式查看3D模型和点云数据。"},{ref:"tipsRef",tip:"这里有常用操作提示，助你快速上手。"}],u=N(null),P=N(null),z={featuresRef:u,fileCard:h,resultCard:_,sceneCard:E,tipsRef:P};function G(){y.value=!0,v.value=0,Ue(()=>I())}function re(){v.value<g.length-1?(v.value++,Ue(()=>I())):y.value=!1}function b(){v.value>0&&(v.value--,Ue(()=>I()))}function C(){y.value=!1}function B(Z){const R=z[Z]?.value;if(!R)return{};const X=R.getBoundingClientRect(),ye=window.scrollX||document.documentElement.scrollLeft,U=window.scrollY||document.documentElement.scrollTop;return{position:"absolute",left:X.left+ye+"px",top:X.top+U+"px",width:X.width+"px",height:X.height+"px",boxShadow:"0 0 0 2px #fff, 0 0 8px 2px #fff",border:"2px solid #fff",borderRadius:"14px",pointerEvents:"none",zIndex:3001,transition:"all 0.3s"}}function ne(Z){const R=z[Z]?.value;if(!R)return{};const X=R.getBoundingClientRect(),ye=window.scrollX||document.documentElement.scrollLeft,U=window.scrollY||document.documentElement.scrollTop;return{position:"absolute",left:X.left+X.width/2+ye+"px",top:X.top+X.height+16+U+"px",transform:"translateX(-50%)",zIndex:3002,minWidth:"200px",maxWidth:"320px"}}function I(){const Z=z[g[v.value].ref]?.value;Z&&Z.scrollIntoView&&Z.scrollIntoView({behavior:"smooth",block:"center"})}zt(()=>{console.log("AppsView: 组件即将销毁，清理3D资源"),ut.stopMonitoring(),ut.dispose()}),Ho(()=>{console.log("AppsView: 组件被激活"),ut.startMonitoring(),window.addEventListener("memory-warning",F),window.addEventListener("memory-critical",A)}),Go(()=>{console.log("AppsView: 组件被停用，暂停3D渲染"),ut.stopMonitoring(),window.removeEventListener("memory-warning",F),window.removeEventListener("memory-critical",A)}),pt(()=>{console.log("AppsView: 组件挂载，启动内存监控"),ut.startMonitoring(),window.addEventListener("memory-warning",F),window.addEventListener("memory-critical",A)});function F(Z){const{usagePercent:R}=Z.detail;console.warn(`内存使用率过高: ${R.toFixed(1)}%`)}function A(Z){const{usagePercent:R}=Z.detail;console.error(`内存使用率严重过高: ${R.toFixed(1)}%`)}return N(Zo()||Yo),(Z,R)=>{const X=Ca;return D(),L("div",yh,[R[7]||(R[7]=Ve('<div class="neon-bg" data-v-3236a7b8><div class="neon-light neon-light-1" data-v-3236a7b8></div><div class="neon-light neon-light-2" data-v-3236a7b8></div><div class="neon-light neon-light-3" data-v-3236a7b8></div><div class="neon-light neon-light-4" data-v-3236a7b8></div><div class="neon-light neon-light-5" data-v-3236a7b8></div><div class="neon-light neon-light-6" data-v-3236a7b8></div><div class="neon-light neon-light-7" data-v-3236a7b8></div></div>',1)),d("main",wh,[d("div",Eh,[d("div",Sh,[d("div",{class:"cyber-header-section",ref_key:"featuresRef",ref:u},R[1]||(R[1]=[d("h1",{class:"cyber-title"},"应用中心",-1),d("div",{class:"cyber-divider"},null,-1),d("p",{class:"cyber-subtitle"},"体验云电智绘平台强大的点云数据处理和3D可视化功能",-1)]),512),d("div",Th,[R[6]||(R[6]=Ve('<div class="features-overview" data-v-3236a7b8><div class="feature-highlight" data-v-3236a7b8><div class="feature-icon" data-v-3236a7b8>🎯</div><h3 data-v-3236a7b8>3D可视化</h3><p data-v-3236a7b8>实时渲染，多视角交互</p></div><div class="feature-highlight" data-v-3236a7b8><div class="feature-icon" data-v-3236a7b8>📊</div><h3 data-v-3236a7b8>数据分析</h3><p data-v-3236a7b8>智能处理，精确测量</p></div><div class="feature-highlight" data-v-3236a7b8><div class="feature-icon" data-v-3236a7b8>⚡</div><h3 data-v-3236a7b8>高性能</h3><p data-v-3236a7b8>GPU加速，流畅体验</p></div></div>',1)),d("div",Ch,[d("div",Ph,[d("div",{class:"usage-tips",ref_key:"tipsRef",ref:P},[d("div",{class:"tip-card",style:{position:"relative"}},[d("button",{class:"custom-guide-btn",style:{position:"absolute",top:"20px",right:"40px","z-index":"10",padding:"6px 18px","font-size":"15px"},onClick:G}," 漫游式引导 "),R[2]||(R[2]=Ve('<h4 data-v-3236a7b8>💡 3D界面快捷键提示</h4><div style="display:flex;gap:32px;flex-wrap:wrap;margin-top:10px;" data-v-3236a7b8><div style="flex:1;min-width:220px;background:rgba(0,180,220,0.06);border-radius:10px;padding:16px 12px;" data-v-3236a7b8><div style="font-weight:bold;color:#00b4dc;margin-bottom:8px;" data-v-3236a7b8>第一人称视角（FPV）</div><ul style="padding-left:18px;" data-v-3236a7b8><li data-v-3236a7b8>W/A/S/D：前/左/后/右移动</li><li data-v-3236a7b8>↑/↓：加速前进/减速后退</li><li data-v-3236a7b8>空格Space：跳跃</li><li data-v-3236a7b8>R：回到起点</li><li data-v-3236a7b8>滚轮：调速</li><li data-v-3236a7b8>鼠标左键：选中</li><li data-v-3236a7b8>鼠标右键：危险标记</li><li data-v-3236a7b8>Q：切换模式</li><li data-v-3236a7b8>左Ctrl：测距</li></ul></div><div style="flex:1;min-width:220px;background:rgba(0,180,220,0.06);border-radius:10px;padding:16px 12px;" data-v-3236a7b8><div style="font-weight:bold;color:#00b4dc;margin-bottom:8px;" data-v-3236a7b8>飞行模式</div><ul style="padding-left:18px;" data-v-3236a7b8><li data-v-3236a7b8>W/A/S/D：前/左/后/右移动</li><li data-v-3236a7b8>↑/↓：加速前进/减速后退</li><li data-v-3236a7b8>左Shift：下降</li><li data-v-3236a7b8>空格Space：上升</li><li data-v-3236a7b8>R：回到起点</li><li data-v-3236a7b8>滚轮：调速</li><li data-v-3236a7b8>鼠标左键：选中</li><li data-v-3236a7b8>鼠标右键：危险标记</li><li data-v-3236a7b8>Q：切换模式</li><li data-v-3236a7b8>左Ctrl：测距</li></ul></div><div style="flex:1;min-width:220px;background:rgba(0,180,220,0.06);border-radius:10px;padding:16px 12px;" data-v-3236a7b8><div style="font-weight:bold;color:#00b4dc;margin-bottom:8px;" data-v-3236a7b8>上帝视角</div><ul style="padding-left:18px;" data-v-3236a7b8><li data-v-3236a7b8>鼠标拖拽：旋转视角</li><li data-v-3236a7b8>滚轮：拉近/远离</li><li data-v-3236a7b8>R：回到起点</li><li data-v-3236a7b8>Q：切换模式</li></ul></div></div>',2))])],512)])]),d("div",kh,[d("div",Dh,[x(X,{class:"app-section",direction:"vertical"},{default:Q(()=>[R[3]||(R[3]=d("div",{class:"app-section-desc"},"1. 上传点云数据文件（支持拖拽或点击选择）",-1)),d("div",{ref_key:"fileCard",ref:h,class:"guide-highlight-wrap"},[x(ss,{status:a.value},{default:Q(()=>[x(bh,{onUploadSuccess:$,onMetaData:T,onPointData:w,onLineData:m,onError:c})]),_:1},8,["status"])],512),R[4]||(R[4]=d("div",{class:"app-section-desc"},"2. 查看解析后的数据详情",-1)),d("div",{ref_key:"resultCard",ref:_,class:"guide-highlight-wrap"},[x(ss,{status:o.value},{default:Q(()=>[x(fh,{"meta-data":e.value,"model-data":s.value,"point-data":n.value},null,8,["meta-data","model-data","point-data"])]),_:1},8,["status"])],512),R[5]||(R[5]=d("div",{class:"app-section-desc"},"3. 交互式3D模型与点云可视化",-1)),d("div",{ref_key:"sceneCard",ref:E,class:"guide-highlight-wrap"},[x(ss,{status:l.value},{default:Q(()=>[x(wd,{begin:l.value==="disabled",onLoaded:R[0]||(R[0]=ye=>l.value="success"),onError:S,"meta-data":e.value,"model-data":s.value,"point-data":n.value},null,8,["begin","meta-data","model-data","point-data"])]),_:1},8,["status"])],512)]),_:1,__:[3,4,5]})])])])]),(D(),Se(Wo,{to:"body"},[y.value?(D(),L("div",$h,[d("div",{class:"custom-guide-highlight",style:be(B(g[v.value].ref))},null,4),d("div",{class:"custom-guide-tip",style:be(ne(g[v.value].ref))},[d("div",null,te(g[v.value].tip),1),d("div",Ah,[d("button",{onClick:b,disabled:v.value===0},"返回",8,xh),d("button",{onClick:C},"跳过"),d("button",{onClick:re},te(v.value<g.length-1?"下一步":"完成"),1)]),g[v.value].ref==="resultCard"?(D(),L("div",Lh)):Y("",!0)],4)])):Y("",!0)]))])]),R[8]||(R[8]=Ve('<footer class="cyber-footer" data-v-3236a7b8><div class="footer-content" data-v-3236a7b8><div class="footer-section" data-v-3236a7b8><h4 data-v-3236a7b8>云电智绘</h4><p data-v-3236a7b8>下一代点云数据处理平台</p></div><div class="footer-section" data-v-3236a7b8><h4 data-v-3236a7b8>技术支持</h4><p data-v-3236a7b8>support@nexus.com</p></div><div class="footer-section" data-v-3236a7b8><h4 data-v-3236a7b8>© 2025 NEXUS SYSTEMS</h4></div></div></footer>',1))])}}},Nh=ze(Mh,[["__scopeId","data-v-3236a7b8"]]);export{Nh as default};
